"use strict";(self.webpackChunkcode=self.webpackChunkcode||[]).push([[3099],{3890:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"6","metadata":{"permalink":"/blog/6","editUrl":"https://github.com/lucasbaccan/code/tree/master/blog/2025-08-17-blog-6/index.md","source":"@site/blog/2025-08-17-blog-6/index.md","title":"#6 - Home Lab - Parte 3","description":"Home Lab","date":"2025-08-17T00:00:00.000Z","tags":[{"inline":true,"label":"2025","permalink":"/blog/tags/2025"},{"inline":true,"label":"08/2025","permalink":"/blog/tags/08-2025"},{"inline":true,"label":"Lucas","permalink":"/blog/tags/lucas"},{"inline":true,"label":"Elias","permalink":"/blog/tags/elias"},{"inline":true,"label":"Baccan","permalink":"/blog/tags/baccan"},{"inline":true,"label":"Home Lab","permalink":"/blog/tags/home-lab"},{"inline":true,"label":"Proxmox","permalink":"/blog/tags/proxmox"},{"inline":true,"label":"Rack","permalink":"/blog/tags/rack"}],"readingTime":9.4,"hasTruncateMarker":true,"authors":[{"name":"Lucas Elias Baccan","title":"Autor do Site","url":"https://github.com/lucasbaccan","imageURL":"https://github.com/lucasbaccan.png","key":"LucasEliasBaccan","page":null}],"frontMatter":{"slug":"6","title":"#6 - Home Lab - Parte 3","authors":["LucasEliasBaccan"],"tags":["2025","08/2025","Lucas","Elias","Baccan","Home Lab","Proxmox","Rack"],"hide_table_of_contents":false},"unlisted":false,"nextItem":{"title":"#5 - Home Lab - Parte 2","permalink":"/blog/5"}},"content":"import Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\nimport Center from \\"@site/src/components/Center\\";\\n\\n## Home Lab\\n\\nNo [post anterior](/blog/5#upgrade-rede), comentei sobre o hack que realizei no meu cluster. Agora, vou detalhar como configurei o Proxmox e quais foram as principais configura\xe7\xf5es adotadas para o ambiente.\\n\\n\x3c!-- truncate --\x3e\\n\\n## Proxmox\\n\\nNo dia [5 de agosto de 2025, foi anunciado a nova vers\xe3o do Proxmox](https://www.proxmox.com/en/about/company-details/press-releases/proxmox-virtual-environment-9-0), a 9.0, ent\xe3o aproveitei para reinstalar o Proxmox e come\xe7ar do zero e documentar o processo de instala\xe7\xe3o e configura\xe7\xe3o.\\n\\nPara quem n\xe3o conhece, o Proxmox \xe9 um sistema operacional baseado em Debian, voltado para virtualiza\xe7\xe3o e gerenciamento de containers. Ele \xe9 uma \xf3tima op\xe7\xe3o para quem quer criar um cluster de alta disponibilidade, pois possui suporte a Ceph, que \xe9 um sistema de armazenamento distribu\xeddo.\\n\\n## Instala\xe7\xe3o\\n\\nN\xe3o tem muito segredo, s\xf3 ir _next_, _next_ e _next_.\\n\\n### Disco\\n\\nEu optei por utilizar um SSD Sata de 240GB para o sistema operacional, que foi formatado em **btrfs**.\\n\\n### Rede\\n\\nEu tenho 3 n\xf3s que foram configurados com as seguintes informa\xe7\xf5es:\\n\\n<Tabs groupId=\\"proxmox-nodes\\">\\n  <TabItem value=\\"node-1\\" label=\\"N\xf3 1\\">\\n  | Configura\xe7\xe3o | Valor              |\\n  |--------------|--------------------|\\n  | CIDR         | 192.168.50.10/24   |\\n  | Gateway      | 192.168.50.1       |\\n  | DNS          | 192.168.50.1       |\\n  </TabItem>\\n  <TabItem value=\\"node-2\\" label=\\"N\xf3 2\\">\\n  | Configura\xe7\xe3o | Valor              |\\n  |--------------|--------------------|\\n  | CIDR         | 192.168.50.20/24   |\\n  | Gateway      | 192.168.50.1       |\\n  | DNS          | 192.168.50.1       |\\n  </TabItem>\\n  <TabItem value=\\"node-3\\" label=\\"N\xf3 3\\">\\n  | Configura\xe7\xe3o | Valor              |\\n  |--------------|--------------------|\\n  | CIDR         | 192.168.50.30/24   |\\n  | Gateway      | 192.168.50.1       |\\n  | DNS          | 192.168.50.1       |\\n  </TabItem>\\n</Tabs>\\n\\n## P\xf3s instala\xe7\xe3o\\n\\nAp\xf3s a instala\xe7\xe3o, \xe9 necess\xe1rio realizar algumas configura\xe7\xf5es para deixar o Proxmox pronto para uso. As principais configura\xe7\xf5es s\xe3o:\\n\\n### Hostname\\n\\n<Tabs groupId=\\"proxmox-nodes\\">\\n  <TabItem value=\\"node-1\\" label=\\"N\xf3 1\\">\\n```bash\\nhostnamectl set-hostname pve1-MJ04XX69\\n```\\n  </TabItem>\\n  <TabItem value=\\"node-2\\" label=\\"N\xf3 2\\">\\n```bash\\nhostnamectl set-hostname pve2-MJ04T5J8\\n```\\n  </TabItem>\\n  <TabItem value=\\"node-3\\" label=\\"N\xf3 3\\">\\n```bash\\nhostnamectl set-hostname pve3-MJ05B30K\\n```\\n  </TabItem>\\n</Tabs>\\n\\nAp\xf3s alterar o hostname, \xe9 necess\xe1rio atualizar o arquivo `/etc/hosts` para que o Proxmox reconhe\xe7a os novos nomes dos n\xf3s, se voc\xea reiniciar o sistema nesse momento, o proxmox n\xe3o vai subir corretamente, e voc\xea vai precisar acessar por SSH e corrigir o arquivo `/etc/hosts` manualmente com as configura\xe7\xf5es de [hosts](#hosts) abaixo.\\n\\n### Hosts\\n\\n<Tabs groupId=\\"proxmox-nodes\\">\\n  <TabItem value=\\"node-1\\" label=\\"N\xf3 1\\">\\n```bash\\nsed -i \'2s/.*/192.168.50.10 pve1.lenovo.m900.MJ04XX69 pve1-MJ04XX69/\' /etc/hosts\\n```\\n  </TabItem>\\n  <TabItem value=\\"node-2\\" label=\\"N\xf3 2\\">\\n```bash\\nsed -i \'2s/.*/192.168.50.20 pve2.lenovo.m900.MJ04T5J8 pve2-MJ04T5J8/\' /etc/hosts\\n```\\n  </TabItem>\\n  <TabItem value=\\"node-3\\" label=\\"N\xf3 3\\">\\n```bash\\nsed -i \'2s/.*/192.168.50.30 pve3.lenovo.m900.MJ05B30K pve3-MJ05B30K/\' /etc/hosts\\n```\\n  </TabItem>\\n</Tabs>\\n\\nAp\xf3s a configura\xe7\xe3o do hostname e do arquivo `/etc/hosts`, \xe9 poss\xedvel reiniciar a maquina e verificar se tudo est\xe1 funcionando corretamente.\\n\\n```bash\\nreboot -h now\\n```\\n\\n### Rede\\n\\nComo visto no [post anterior](/blog/4), existem 2 placas de rede, ent\xe3o agora vamos configurar o failover e o bonding.\\n\\n<Tabs groupId=\\"proxmox-nodes\\">\\n  <TabItem value=\\"node-1\\" label=\\"N\xf3 1\\">\\n\\n```bash\\necho \\"\\" >> /etc/network/interfaces\\n\\ncat << EOF > /etc/network/interfaces\\nauto lo\\niface lo inet loopback\\n\\nauto eno1\\niface eno1 inet manual\\n\\nauto enp2s0\\niface enp2s0 inet manual\\n\\nauto bond0\\niface bond0 inet manual\\n        bond-slaves eno1 enp2s0\\n        bond-miimon 100\\n        bond-mode active-backup\\n        bond-primary enp2s0\\n\\nauto vmbr0\\niface vmbr0 inet static\\n        address 192.168.50.10/24\\n        gateway 192.168.50.1\\n        bridge-ports bond0\\n        bridge-stp off\\n        bridge-fd 0\\n\\nsource /etc/network/interfaces.d/*\\nEOF\\n```\\n\\n  </TabItem>\\n  <TabItem value=\\"node-2\\" label=\\"N\xf3 2\\">\\n\\n```bash\\necho \\"\\" >> /etc/network/interfaces\\n\\ncat << EOF > /etc/network/interfaces\\nauto lo\\niface lo inet loopback\\n\\nauto eno1\\niface eno1 inet manual\\n\\nauto enp2s0\\niface enp2s0 inet manual\\n\\nauto bond0\\niface bond0 inet manual\\n        bond-slaves eno1 enp2s0\\n        bond-miimon 100\\n        bond-mode active-backup\\n        bond-primary enp2s0\\n\\nauto vmbr0\\niface vmbr0 inet static\\n        address 192.168.50.20/24\\n        gateway 192.168.50.1\\n        bridge-ports bond0\\n        bridge-stp off\\n        bridge-fd 0\\n\\nsource /etc/network/interfaces.d/*\\nEOF\\n```\\n\\n  </TabItem>\\n  <TabItem value=\\"node-3\\" label=\\"N\xf3 3\\">\\n\\n```bash\\necho \\"\\" >> /etc/network/interfaces\\n\\ncat << EOF > /etc/network/interfaces\\nauto lo\\niface lo inet loopback\\n\\nauto eno1\\niface eno1 inet manual\\n\\nauto enp2s0\\niface enp2s0 inet manual\\n\\nauto bond0\\niface bond0 inet manual\\n        bond-slaves eno1 enp2s0\\n        bond-miimon 100\\n        bond-mode active-backup\\n        bond-primary enp2s0\\n\\nauto vmbr0\\niface vmbr0 inet static\\n        address 192.168.50.30/24\\n        gateway 192.168.50.1\\n        bridge-ports bond0\\n        bridge-stp off\\n        bridge-fd 0\\n\\nsource /etc/network/interfaces.d/*\\nEOF\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\ne ai \xe9 s\xf3 reiniciar a rede\\n\\n```bash\\nsystemctl restart networking\\n```\\n\\n<Center>\\n\\n![Network](./network.png)  \\nComo deve ficar a configura\xe7\xe3o de rede\\n\\n</Center>\\n\\n### Wake on LAN - WOL\\n\\nAgora vamos ativar a configura\xe7\xe3o de Wake on Lan(WOL) para que eu possa ligar os n\xf3s remotamente. Para isso vamos em Datacenter > Node > System > Options. Precisamos configurar o `MAC address for Wake on LAN` e inserir o MAC da placa de rede principal, que geralmente \xe9 a `eno1`, e depois habilitar o `Wake on LAN`.\\n\\n![Wake on Lan](wol1.png)\\n\\nPara pegar o MAC da placa de rede, podemos utilizar o seguinte comando:\\n\\n```bash\\nip link show eno1 | awk \'/ether/ {print $2}\'\\n```\\n\\n<Tabs groupId=\\"proxmox-nodes\\">\\n<TabItem value=\\"node-1\\" label=\\"N\xf3 1\\">\\n```bash\\nip link show eno1 | awk \'/ether/ {print $2}\'\\n# 00:23:24:D9:9D:EF\\n```\\n</TabItem>\\n<TabItem value=\\"node-2\\" label=\\"N\xf3 2\\">\\n```bash\\nip link show eno1 | awk \'/ether/ {print $2}\'\\n# 00:23:24:C0:73:2C\\n```\\n</TabItem>\\n<TabItem value=\\"node-3\\" label=\\"N\xf3 3\\">\\n```bash\\nip link show eno1 | awk \'/ether/ {print $2}\'\\n# E0:4F:43:21:A7:78\\n```\\n</TabItem>\\n</Tabs>\\n\\n### Tailscale\\n\\nEu gosto de utilizar o Tailscale para acessar o Proxmox remotamente, ent\xe3o vou instalar ele tamb\xe9m em cada n\xf3, basta seguir a instala\xe7\xe3o oficial do Tailscale.\\n\\n```bash\\ncurl -fsSL https://tailscale.com/install.sh | sh && sudo tailscale up --auth-key=tskey-auth-XXXXXXXXXXXXXXXXXXXXXXX\\n```\\n\\nAp\xf3s instalar, eu gosto de utilizar a seguinte configura\xe7\xe3o:\\n\\n```bash\\ntailscale up --reset --ssh --advertise-routes=192.168.50.0/24 --accept-dns=false\\n```\\n\\nEssa configura\xe7\xe3o vai anunciar a rota da minha rede local, para que eu possa acessar os dispositivos da minha rede local atrav\xe9s do Tailscale, habilitar o SSH e n\xe3o aceitar as configura\xe7\xf5es de DNS do Tailscale, pois tive problema com o MagicDNS do Tailscale em outras maquinas virtuais.\\n\\n:::info\\nAo utilizar o MagicDNS do Tailscale, as maquinas virtuais n\xe3o conseguiam resolver os nomes dos hosts, ent\xe3o optei por n\xe3o utilizar o MagicDNS e configurar o DNS manualmente.\\n:::\\n\\n## P\xf3s-instala\xe7\xe3o Scripts\\n\\n### [Proxmox VE Post Install](https://community-scripts.github.io/ProxmoxVE/scripts?id=post-pve-install)\\n\\n```bash\\nbash -c \\"$(curl -fsSL https://raw.githubusercontent.com/community-scripts/ProxmoxVE/main/tools/pve/post-pve-install.sh)\\"\\n```\\n\\nDeve ser selecionado os seguintes itens:\\n\\n- \'pve-enterprise\' - Desabilitar o reposit\xf3rio enterprise\\n- \'pve-no-subscription\' - Habilitar o reposit\xf3rio no subscription\\n- \'pvetest\' - Desabilitar o reposit\xf3rio test\\n- Disable subscription nag - Desabilitar a mensagem de assinatura, se puder contribuir, compre uma assinatura.\\n- Disable high availability - Habilitar, pois vamos criar um cluster de alta disponibilidade.\\n\\n<Center>\\n\\n![Proxmox VE Post Install](./post-install-script.png)  \\nAp\xf3s rodar o script, deve ter essa mensagem.\\n\\n</Center>\\n\\n### [Proxmox VE Processor Microcode](https://community-scripts.github.io/ProxmoxVE/scripts?id=microcode)\\n\\n```bash\\nbash -c \\"$(curl -fsSL https://raw.githubusercontent.com/community-scripts/ProxmoxVE/main/tools/pve/microcode.sh)\\"\\n```\\n\\nN\xe3o sei muito bem as op\xe7\xf5es, ent\xe3o seleciono a do processador.\\n\\n<Center>\\n\\n![Proxmox VE Processor Microcode](./proxmox-microcode.png)  \\nOp\xe7\xe3o que seleciono.\\n\\n</Center>\\n\\nAp\xf3s a instala\xe7\xe3o, \xe9 necess\xe1rio reiniciar o sistema.\\n\\n```bash\\nreboot -h now\\n```\\n\\nE pode verificar se o microcode foi instalado corretamente.\\n\\n```bash\\njournalctl -k | grep -E \\"microcode\\" | head -n 1\\n```\\n\\n### [Proxmox VE CPU Scaling Governor](https://community-scripts.github.io/ProxmoxVE/scripts?id=scaling-governor)\\n\\n```bash\\nbash -c \\"$(curl -fsSL https://raw.githubusercontent.com/community-scripts/ProxmoxVE/main/tools/pve/scaling-governor.sh)\\"\\n```\\n\\n## Cluster High Availability\\n\\nAgora que configuramos cada n\xf3, vamos criar um cluster de alta disponibilidade, vou utilizar a interface web do Proxmox para isso, mas tamb\xe9m \xe9 poss\xedvel fazer via linha de comando.\\n\\nNo n\xf3 1, vamos criar o cluster. Basta clicar em Datacenter > Cluster > Create Cluster.\\n\\n<Center>\\n\\n![Criar cluster](./cluster1.png)  \\nCriar um cluster\\n\\n</Center>\\n\\nbasta dar um nome, eu vou utilizar `home-lab`.\\n\\n<Center>\\n\\n![Nome](./cluster2.png)  \\nDe um nome ao cluster\\n\\n</Center>\\n\\nAgora na tela, vai ter nosso cluster criado e um bot\xe3o novo ficou dispon\xedvel, o `Join Information`, que \xe9 onde vamos pegar as informa\xe7\xf5es para adicionar os outros n\xf3s ao cluster.\\n\\n<Center>\\n\\n![Join information](./cluster3.png)  \\nCopie as informa\xe7\xf5es utilizando o bot\xe3o `Copy Information`\\n\\n</Center>\\n\\nAgora vamos nos outros n\xf3s, e vamos clicar em Datacenter > Cluster > Join Cluster e colar as informa\xe7\xf5es copiadas do n\xf3 1. Pode ser que a tela trave no meio, pois a conex\xe3o \xe9 perdida, pois voc\xea precisa fazer o login novamente, e assim que fizer, vera o n\xf3 a esquerda junto ao n\xf3 1.\\n\\n<Center>\\n\\n![Join cluster](./cluster4.png)  \\nCopie as informa\xe7\xf5es utilizando o bot\xe3o `Join \'Home-Lab\'`\\n\\n</Center>\\n\\nAp\xf3s adicionar todos os n\xf3s, voc\xea ver\xe1 a tela do cluster com os n\xf3s adicionados.\\n\\n<Center>\\n\\n![Cluster](./cluster5.png)  \\nTela do cluster com os n\xf3s adicionados\\n\\n</Center>\\n\\n## Ceph Storage\\n\\nComo visto no [post anterior](/blog/5#upgrade-armazenamento), existem 2 SSDs em cada n\xf3, um para o sistema operacional(Proxmox) e outro para o Ceph Storage, que ser\xe1 utilizado para armazenar os dados dos containers e VMs.\\n\\nO Ceph \xe9 um sistema de armazenamento distribu\xeddo, que permite criar um cluster de armazenamento de alta disponibilidade, escal\xe1vel e tolerante a falhas. Ele \xe9 integrado ao Proxmox, o que facilita a cria\xe7\xe3o e gerenciamento do cluster de armazenamento.\\n\\nNa configura\xe7\xe3o atual do cluster, se um n\xf3 falhar, os dados dos containers e VMs n\xe3o ser\xe3o perdidos, pois eles estar\xe3o replicados nos outros n\xf3s do cluster. Isso garante alta disponibilidade e toler\xe2ncia a falhas.\\n\\nPara fazer a instala\xe7\xe3o do Ceph, vamos utilizar a interface web do Proxmox, que \xe9 bem intuitiva. Basta clicar em N\xf3 > Storage > Add > Ceph. Isso deve ser feito para cada n\xf3 do cluster.\\n\\n<Center>\\n\\n![Cluster](./ceph1.png)  \\nTela de instala\xe7\xe3o do Ceph\\n\\n</Center>\\n\\nDepois de instalado em todos os n\xf3s, eu gosto de criar `monitor`s e `manager`s para cada n\xf3, para garantir que o Ceph esteja sempre funcionando corretamente, mesmo se um n\xf3 falhar.\\n\\n<Center>\\n\\n![Monitor e Manager](./ceph2.png)  \\nTela de cria\xe7\xe3o de Monitor e Manager\\n\\n</Center>\\n\\nAp\xf3s criar os Monitores e Managers, voc\xea ver\xe1 a tela do Ceph com os n\xf3s adicionados.\\n\\n<Center>\\n\\n![Monitor e Manger](ceph3.png)  \\nTela do Ceph com os n\xf3s adicionados\\n\\n</Center>\\n\\nAgora temos que adicionar os discos que ser\xe3o utilizados pelo Ceph, para isso, vamos clicar em N\xf3 > Storage > Add > OSD. Isso deve ser feito para cada n\xf3 do cluster, selecionando o disco que ser\xe1 utilizado pelo Ceph.\\n\\nCaso o disco n\xe3o esteja aparecendo, no meu caso ele estava listado em LVM, ent\xe3o eu precisei remover o disco do LVM e depois adicionar o disco ao Ceph.\\n\\n<Center>\\n\\n![OSDs](ceph4.png)  \\nOSDs do Ceph\\n\\n</Center>\\n\\nAgora, para finalizar a configura\xe7\xe3o do Ceph, crie o pool de armazenamento, que ser\xe1 utilizado pelos containers e VMs. Para isso, clique em N\xf3 > Ceph > Pool > Create.\\n\\n<Center>\\n\\n![Pool](ceph5.png)  \\nOSDs do Ceph\\n\\n</Center>\\n\\n## Considera\xe7\xf5es Finais\\n\\nEsses foram os principais passos que segui para configurar meu cluster de Proxmox com Ceph Storage. Sei que existem outras configura\xe7\xf5es, mas optei por focar nas principais ap\xf3s instalar o Proxmox.\\n\\n\x3c!-- <Tabs groupId=\\"proxmox-nodes\\">\\n<TabItem value=\\"node-1\\" label=\\"N\xf3 1\\">\\n</TabItem>\\n<TabItem value=\\"node-2\\" label=\\"N\xf3 2\\">\\n</TabItem>\\n<TabItem value=\\"node-3\\" label=\\"N\xf3 3\\">\\n</TabItem>\\n</Tabs> --\x3e"},{"id":"5","metadata":{"permalink":"/blog/5","editUrl":"https://github.com/lucasbaccan/code/tree/master/blog/2025-04-19-blog-5/index.md","source":"@site/blog/2025-04-19-blog-5/index.md","title":"#5 - Home Lab - Parte 2","description":"Home Lab","date":"2025-04-19T00:00:00.000Z","tags":[{"inline":true,"label":"2025","permalink":"/blog/tags/2025"},{"inline":true,"label":"04/2025","permalink":"/blog/tags/04-2025"},{"inline":true,"label":"Lucas","permalink":"/blog/tags/lucas"},{"inline":true,"label":"Elias","permalink":"/blog/tags/elias"},{"inline":true,"label":"Baccan","permalink":"/blog/tags/baccan"},{"inline":true,"label":"Home Lab","permalink":"/blog/tags/home-lab"},{"inline":true,"label":"Proxmox","permalink":"/blog/tags/proxmox"},{"inline":true,"label":"Rack","permalink":"/blog/tags/rack"}],"readingTime":4.97,"hasTruncateMarker":true,"authors":[{"name":"Lucas Elias Baccan","title":"Autor do Site","url":"https://github.com/lucasbaccan","imageURL":"https://github.com/lucasbaccan.png","key":"LucasEliasBaccan","page":null}],"frontMatter":{"slug":"5","title":"#5 - Home Lab - Parte 2","authors":["LucasEliasBaccan"],"tags":["2025","04/2025","Lucas","Elias","Baccan","Home Lab","Proxmox","Rack"],"hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"#6 - Home Lab - Parte 3","permalink":"/blog/6"},"nextItem":{"title":"#4 - Home Lab","permalink":"/blog/4"}},"content":"import Center from \\"@site/src/components/Center\\";\\n\\n## Home Lab\\n\\nNo post [anterior](/blog/4), eu comentei que comprei alguns computadores para montar meu Home Lab. Agora quero dar uma atualiza\xe7\xe3o de como est\xe1 o projeto e o que eu fiz at\xe9 agora.\\n\\nEu comprei 3 unidades pensando em montar um cluster, para aprender mais sobre Kubernetes, alta disponibilidade, balanceamento de carga, etc. Para funcionar melhor, eu precisava fazer alguns upgrades, ent\xe3o fiz o seguinte:\\n\\n\x3c!-- truncate --\x3e\\n\\n## Upgrades\\n\\nDepois de comprar, eu fiz algumas mudan\xe7as para atender melhor as minhas necessidades. O foco principal era ter um cluster de alta disponibilidade, ent\xe3o eu precisava de mais armazenamento e uma rede mais r\xe1pida entre os n\xf3s.\\n\\n### Upgrade armazenamento\\n\\nLogo que cheguei de viagem, uma das primeiras coisas que fiz foi adicionar mais armazenamento, tinha em casa j\xe1 3 SSDs SATA de 240GB Kingston, ent\xe3o coloquei um em cada, j\xe1 que eles vieram com NVMe, assim o SSD SATA ficava como armazenamento pro host e o SSD NVMe para as maquinas virtuais/Ceph.\\n\\n### Upgrade rede\\n\\nPara melhorar a alta disponibilidade, eu precisava que a comunica\xe7\xe3o entre os n\xf3s fosse r\xe1pida, e o que estava dentro do or\xe7amento era fazer upgrade para 2.5Gbps, isso iria ajudar com o armazenamento Ceph.\\n\\nNessas horas que o Aliexpress nos salva, la eu encontrei tudo que precisava, iria precisar de placas de rede, switch e cabos de rede.\\n\\n<Center>\\n\\n![Rede 2.5Gbps](./imagem1.png)  \\n[link](https://pt.aliexpress.com/item/1005004171201464.html)\\n\\n</Center>\\n\\nA inten\xe7\xe3o seria trocar a placa wi-fi e colocar a nova placa de rede, assim os computadores iriam ter 2 placas de rede cabeada.\\n\\nAl\xe9m disso, eu precisa de um switch 2.5Gbps para poder fazer a comunica\xe7\xe3o entre os n\xf3s, ent\xe3o comprei um switch tamb\xe9m que suporta 2.5Gbps.\\n\\n<Center>\\n\\n![Switch 2.5Gbps](./imagem2.png)\\n[link](https://pt.aliexpress.com/item/1005006102676363.html)\\n\\n</Center>\\n\\nE cabos de rede, e nesse item, minha preocupa\xe7\xe3o era ter cabos finos e pequenos, e a op\xe7\xe3o que achei acabou sendo Cat6a, mas pelo tamanho, acredito que n\xe3o importaria muito a categoria do cabo.\\n\\n<Center>\\n\\n![Cabos de rede](./imagem3.png)\\n[link](https://pt.aliexpress.com/item/33026678139.html)\\n\\n</Center>\\n\\n### Sistema operacional\\n\\nOs computadores vieram com Windows 10, mas para criar um cluster, eu precisava de um sistema operacional que suportasse isso, ent\xe3o instalei o [Proxmox](https://proxmox.com/), que \xe9 um sistema operacional baseado em Debian, voltado para virtualiza\xe7\xe3o e gerenciamento de containers.\\n\\n## Rack\\n\\nEu queria organizar os computadores de uma forma pr\xe1tica, ent\xe3o queria colocar eles em um rack, mas por causa do tamanho, \xe9 dif\xedcil achar um rack para mini computadores, ent\xe3o eu fiz uma vers\xe3o caseira utilizando blocos de montar estilo Lego.\\n\\n### Vers\xe3o 1\\n\\nComprei 1000 pe\xe7as misturadas, e fiz um suporte para os computadores.\\n\\n<Center>\\n\\n![Rack 1](./imagem4.png)  \\n[link](https://pt.aliexpress.com/item/1005006641465763.html)\\n\\n</Center>\\n\\nS\xf3 que esse kit de 1000 pe\xe7as n\xe3o veio muitas pe\xe7as grandes, teve varias que era finas ou 1x1, ent\xe3o n\xe3o ficou como imaginava.\\n\\n<Center>\\n\\n![Rack 1](./imagem5.png)\\n\\n</Center>\\n\\nEssa vers\xe3o s\xf3 tinha as laterais, e sustentava cada computador, deixando um espa\xe7o entre eles, isso foi o que deu para fazer com as pe\xe7as, pois o restante era muito pequenas.\\n\\n### Vers\xe3o 2\\n\\nPensando em melhorar o rack, comprei mais pe\xe7as para fazer uma vers\xe3o melhorada, e la vamos n\xf3s de novo para o Aliexpress.\\n\\n<Center>\\n\\n![Placa 32x32](./imagem6.png)  \\n2X - Placa 32x32 - [link](https://pt.aliexpress.com/item/1005006208979309.html)\\n\\n</Center>\\n\\n<Center>\\n\\n![Placa 16x16](./imagem7.png)  \\n4X - Placa 16x32 - [link](https://pt.aliexpress.com/item/1005006208979309.html)\\n\\n</Center>\\n\\n<Center>\\n\\n![Bloco 2x4](./imagem8.png)  \\n200X - Blocos 2x4 - [link](https://pt.aliexpress.com/item/1005006264266270.html)\\n\\n</Center>\\n\\n<Center>\\n\\n![Bloco 2x6](./imagem10.png)  \\n300X - Blocos 2x4 - [link](https://pt.aliexpress.com/item/1005006943625796.html)\\n\\n</Center>\\n\\n<Center>\\n\\n![Bloco 2x6](./imagem9.png)  \\n100X - Blocos 2x6 - [link](https://pt.aliexpress.com/item/1005006220254389.html)\\n\\n</Center>\\n\\n<Center>\\n\\n![Bloco 2x4 Finos e Lisos](./imagem11.png)  \\n80X - Blocos 2x4 - Finos - Lisos - [link](https://pt.aliexpress.com/item/32963973002.html)\\n\\n</Center>\\n\\n<Center>\\n\\n![Bloco 2x4 Finossos](./imagem12.png)  \\n60X - Blocos 2x4 - Finos - [link](https://pt.aliexpress.com/item/1005003305079557.html)\\n\\n</Center>\\n\\nNo total foram mais 740 pe\xe7as compradas, somadas com as 1000 que j\xe1 tinha, totalizando pe\xe7as mais do que suficiente para fazer o rack. Aproveitei as duas placas 32x32 para fazer uma caixa, onde tem um filtro de linha e a fonte dos computadores, essa parte \xe9 a que fica mais abaixo. No fundo, eu fiz um suporte para o switch. Essa parte fica aberta para poder mexer nos cabos e melhorar a ventila\xe7\xe3o.\\n\\n<Center>\\n\\n![Frente](./imagem13.jpg)  \\nImagem da frente do rack\\n\\n</Center>\\n\\n<Center>\\n\\n![Frente](./imagem14.jpg)  \\nImagem da lateral do rack\\n\\n</Center>\\n\\n<Center>\\n\\n![Frente](./imagem15.jpg)  \\nImagem de tr\xe1s do rack\\n\\n</Center>\\n\\n## Custo / Investimento\\n\\nAt\xe9 o momento a conta do home lab est\xe1 assim:\\n\\n**Hardware**:\\n\\n- 3 computadores: R$ 1.545,00 (R$ 545,00 cada / $100,00 cada cota\xe7\xe3o de R$ 5,15)\\n- 3 SSDs SATA: R$ 0,00 (Pe\xe7as que j\xe1 tinha em casa)\\n- 3 Placas de rede: R$ 276,53\\n- 1 Switch: R$ 306,88\\n- 6 Cabos de rede: R$ 56,89\\n- 1 Filtro de linha: R$ 0,00 (Pe\xe7a que j\xe1 tinha em casa)\\n- **Total**: R$ 2.185,20\\n\\n**Rack**:\\n\\n- 1000 pe\xe7as aleat\xf3rias: R$ 101,71\\n- 2x Placas 32x32: R$ 48,80\\n- 4x Placas 16x32: R$ 64,56\\n- 200X Blocos 2x4: R$ 129,15\\n- 300X Blocos 2x4: R$ 156,48\\n- 100X Blocos 2x6: R$ 97,26\\n- 80X Blocos 2x4 finos e lisos: R$ 24,76\\n- 60X Blocos 2x4 finos: R$ 87,27\\n- **Total**: R$ 709,99\\n\\nTotal geral: R$ 2.895,19\\n\\nParece muito, mas uma maquina na AWS semelhante (t3a.xlarge / 4vCPU / 16GB RAM / 240GB SSD) custa cerca de $200,00 por m\xeas, cerca de R$ 1.160,00 na cota\xe7\xe3o de hoje (R$ 5,80), isso para um n\xf3. Ent\xe3o pra mim acabou sendo um bom custo-benef\xedcio, j\xe1 que o cluster tem 3 n\xf3s, e ainda posso usar para outras coisas.\\n\\n## Conclus\xe3o\\n\\nEsse \xe9 o projeto at\xe9 agora, ainda falta fazer algumas coisas, como por exemplo, colocar um cooler para melhorar a ventila\xe7\xe3o. Todo o conjunto tem 7Kg, e s\xf3 precisa ligar 1 cabo de energia e 1 cabo de rede.\\n\\nEstou contente com a evolu\xe7\xe3o do projeto, aprendi muito at\xe9 o momento e continuarei aprendendo mais."},{"id":"4","metadata":{"permalink":"/blog/4","editUrl":"https://github.com/lucasbaccan/code/tree/master/blog/2024-06-01-blog-4/index.md","source":"@site/blog/2024-06-01-blog-4/index.md","title":"#4 - Home Lab","description":"Home Lab","date":"2024-06-01T00:00:00.000Z","tags":[{"inline":true,"label":"2024","permalink":"/blog/tags/2024"},{"inline":true,"label":"06/2024","permalink":"/blog/tags/06-2024"},{"inline":true,"label":"Lucas","permalink":"/blog/tags/lucas"},{"inline":true,"label":"Elias","permalink":"/blog/tags/elias"},{"inline":true,"label":"Baccan","permalink":"/blog/tags/baccan"},{"inline":true,"label":"Home Lab","permalink":"/blog/tags/home-lab"},{"inline":true,"label":"Viagem","permalink":"/blog/tags/viagem"},{"inline":true,"label":"Ebay","permalink":"/blog/tags/ebay"}],"readingTime":4.25,"hasTruncateMarker":true,"authors":[{"name":"Lucas Elias Baccan","title":"Autor do Site","url":"https://github.com/lucasbaccan","imageURL":"https://github.com/lucasbaccan.png","key":"LucasEliasBaccan","page":null}],"frontMatter":{"slug":"4","title":"#4 - Home Lab","authors":["LucasEliasBaccan"],"tags":["2024","06/2024","Lucas","Elias","Baccan","Home Lab","Viagem","Ebay"],"hide_table_of_contents":false},"unlisted":false,"prevItem":{"title":"#5 - Home Lab - Parte 2","permalink":"/blog/5"},"nextItem":{"title":"#3 - Cursos","permalink":"/blog/3"}},"content":"import Center from \\"@site/src/components/Center\\";\\n\\n## Home Lab\\n\\nEm 2024 eu e minha noiva fizemos uma viagem para o Canad\xe1 e Estados Unidos. Como todo bom turista, aproveitei para fazer compras e comprei alguns computadores usados para montar meu [Home Lab](/info/setup#home-lab).\\n\\n\x3c!-- truncate --\x3e\\n\\n## Viagem\\n\\nPegamos um pacote de 10 dias, e por ser a primeira viagem fora da Am\xe9rica do Sul, optamos por passar em varias cidades. Nosso pacote come\xe7ava em Montreal e terminava em Nova York. As cidade que passamos foram:\\n\\n- Montreal, Canad\xe1\\n- Quebec, Canad\xe1\\n- Mont Tremblant, Canad\xe1\\n- Ottawa, Canad\xe1\\n- Toronto, Canad\xe1\\n- Niagara Falls, Canad\xe1\\n- Niagara Falls, EUA\\n- Corning, EUA\\n- Nova York, EUA\\n\\n## Dinheiro\\n\\nPara essa viagem, n\xf3s levamos um pouco de dinheiro em esp\xe9cie, algo em torno de 300 d\xf3lares americanos, o que \xe9 pouco, mas o suficiente para emerg\xeancias. O restante do dinheiro foi em cart\xe3o de d\xe9bito, que usamos para pagar a maioria das coisas.\\n\\nMinha noiva levou o cart\xe3o da [Nomad](https://www.nomadglobal.com/), que \xe9 um cart\xe3o de d\xe9bito internacional, que estava cadastrado na carteira digital do celular dela. Eu levei o cart\xe3o da [Wise](https://wise.com/), que \xe9 um cart\xe3o de d\xe9bito internacional, que tamb\xe9m estava cadastrado na minha carteira digital, mas eles mandaram um cart\xe3o f\xedsico, que eu levei junto. Ambos os cart\xf5es converteram a moeda local para d\xf3lar americano, e a convers\xe3o foi feita no momento da compra.\\n\\nUm ponto importante \xe9 que o bom de ter o cart\xe3o f\xedsico \xe9 que deu para sacar dinheiro em caixas eletr\xf4nicos (ATMs), pois iria precisar para pagar os computadores que queria.\\n\\n## Ebay\\n\\nMinha escolha para comprar os computadores foi o [Ebay](https://www.ebay.com/), pois l\xe1 tem muitos vendedores, ent\xe3o filtrei por vendedores na regi\xe3o de Nova York, pois era a \xfaltima cidade que iria passar e entrei em contato com alguns vendedores.\\n\\nFiz o contato ainda no Brasil, falei que iria viajar, que ainda n\xe3o tinha o nome do hotel, mas que tinha interesse, e come\xe7amos a negociar, ele fez $100.00 d\xf3lares cada, j\xe1 que levaria 3. Ele pediu para eu chamar ele quando estivesse para chegar em Nova York, e assim fiz.\\n\\n<Center>\\n\\n![Ebay](./imagem1.png)  \\nAn\xfancio no Ebay\\n\\n</Center>\\n\\n## Entrega\\n\\nEu tinha pego um chip no Canada, mas por ser o primeiro dia nos Estados Unidos, n\xe3o tinha ainda pego um chip de celular, ent\xe3o s\xf3 conseguia me comunicar pelo Wi-Fi dos lugares. Combinamos de realizar a entrega no hotel, eu passei o endere\xe7o e falei mais ou menos o hor\xe1rio que iria chegar, perto das 22:00. Porem o \xf4nibus acabou atrasando, e quando chegamos, quando conectei no Wi-Fi, vi que o vendedor tinha mandado mensagem falando que estava j\xe1 esperando e que se n\xe3o chegasse em 30 minutos, iria embora, pois precisava trabalhar no dia seguinte e j\xe1 estava tarde.\\n\\nCorri ent\xe3o pra rua a procura da placa do carro dele, estava a alguns metros do hotel, e quando cheguei, me apresentei e falei que tinha atrasado por conta do \xf4nibus, ele me mostrou os computadores e entreguei o dinheiro a ele, depois ele comentou que pensou que poderia ser um golpe, que ningu\xe9m iria aparecer, pois eu era um estranho de outro pa\xeds, que poderia s\xf3 estar pregando uma pe\xe7a nele, mas ele ficou feliz e foi tranquilo a entrega.\\n\\n## Computadores\\n\\nComprei 3 Lenovo [ThinkCentre M900 Tiny](/files/m900_tiny_platform_spec.pdf), que s\xe3o computadores pequenos, que tem um processador [Intel i5-6500T](https://www.intel.com.br/content/www/br/pt/products/sku/88183/intel-core-i56500t-processor-6m-cache-up-to-3-10-ghz/specifications.html) - 4 n\xfacleos / 4 threads (2.5 GHz / 3.1 GHz), 16 GB de RAM (1x16 GB) 2133 mhz (Um deles \xe9 2x8 GB) e 512 GB NVMe (TeamGroup).\\n\\n<Center>\\n\\n![Computadores](./imagem2.jpg)  \\nCompara\xe7\xe3o deles com um rel\xf3gio\\n\\n</Center>\\n\\n## Viagem de volta\\n\\nNa volta, coloquei os computadores na mala, no meio das roupas, para que n\xe3o batessem e n\xe3o quebrassem. Eles chegaram bem, e agora est\xe3o na minha mesa, esperando para serem configurados.\\n\\n<Center>\\n\\n![Computadores](./imagem3.jpg)  \\nFoi um sufoco guardar todas as coisas da viagem na mala\\n\\n</Center>\\n\\nChegando no Brasil, no aeroporto, fomos selecionados de forma \\"aleat\xf3ria\\" (\ud83e\udd37) para passar por uma revista, pediram o que tinha na mala, falei que eram 3 computadores, e nem pediram para abrir a mala. Foi mais tranquilo do que eu esperava.\\n\\n:::info Nota\\nVoc\xea pode trazer 1000 d\xf3lares em produtos sem pagar imposto, e pode ter at\xe9 3 produtos iguai, ent\xe3o eu estava dentro da lei. Al\xe9m disso eu tinha feito a Declara\xe7\xe3o Eletr\xf4nica de Bens do Viajante [(e-DBV](https://www.gov.br/receitafederal/pt-br/assuntos/aduana-e-comercio-exterior/viagens-internacionais/guia-do-viajante/e-dbv)), mas n\xe3o era necess\xe1rio, pois estava dentro do limite de valor e quantidade.\\n:::\\n\\n## Conclus\xe3o\\n\\nV\xe1rias vezes eu ficava pensando se iria dar certo ou n\xe3o a compra, se iria ser enganado ou roubado, mas no final deu tudo certo, e isso n\xe3o tirou o brilho da viagem que foi incr\xedvel. Deu para conhecer v\xe1rias cidades, v\xe1rias culturas e se divertir muito. J\xe1 estou ansioso para a pr\xf3xima viagem.\\n\\n<Center>\\n\\n![Computadores](./imagem4.jpg)  \\nCentral Park, Nova York - 31/05/2024\\n\\n</Center>"},{"id":"3","metadata":{"permalink":"/blog/3","editUrl":"https://github.com/lucasbaccan/code/tree/master/blog/2024-03-23-blog-3/index.md","source":"@site/blog/2024-03-23-blog-3/index.md","title":"#3 - Cursos","description":"Novo tutorial","date":"2024-03-23T00:00:00.000Z","tags":[{"inline":true,"label":"2024","permalink":"/blog/tags/2024"},{"inline":true,"label":"03/2024","permalink":"/blog/tags/03-2024"},{"inline":true,"label":"Lucas","permalink":"/blog/tags/lucas"},{"inline":true,"label":"Elias","permalink":"/blog/tags/elias"},{"inline":true,"label":"Baccan","permalink":"/blog/tags/baccan"}],"readingTime":0.31,"hasTruncateMarker":false,"authors":[{"name":"Lucas Elias Baccan","title":"Autor do Site","url":"https://github.com/lucasbaccan","imageURL":"https://github.com/lucasbaccan.png","key":"LucasEliasBaccan","page":null}],"frontMatter":{"slug":"3","title":"#3 - Cursos","authors":["LucasEliasBaccan"],"tags":["2024","03/2024","Lucas","Elias","Baccan"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"#4 - Home Lab","permalink":"/blog/4"},"nextItem":{"title":"#2 - Novo tutorial","permalink":"/blog/2"}},"content":"## Novo tutorial\\n\\nFala pessoal\\n\\nCriei um novo menu no site chamado **[Cursos](/cursos)**, onde vou colocar conte\xfados de cursos que eu fiz e que acho interessante compartilhar com voc\xeas. Atualmente eu estou fazendo o [curso.dev](/cursos/curso-dev) do Felipe Deschamps e o [pick 2024](/cursos/pick-2024) do Jeferson Fernando.\\n\\nEspero que gostem, e que aproveitem o conte\xfado.\\n\\nAt\xe9 a pr\xf3xima."},{"id":"2","metadata":{"permalink":"/blog/2","editUrl":"https://github.com/lucasbaccan/code/tree/master/blog/2023-12-23-blog-2/index.md","source":"@site/blog/2023-12-23-blog-2/index.md","title":"#2 - Novo tutorial","description":"Novo tutorial","date":"2023-12-23T00:00:00.000Z","tags":[{"inline":true,"label":"2023","permalink":"/blog/tags/2023"},{"inline":true,"label":"12/2023","permalink":"/blog/tags/12-2023"},{"inline":true,"label":"Lucas","permalink":"/blog/tags/lucas"},{"inline":true,"label":"Elias","permalink":"/blog/tags/elias"},{"inline":true,"label":"Baccan","permalink":"/blog/tags/baccan"}],"readingTime":0.45,"hasTruncateMarker":false,"authors":[{"name":"Lucas Elias Baccan","title":"Autor do Site","url":"https://github.com/lucasbaccan","imageURL":"https://github.com/lucasbaccan.png","key":"LucasEliasBaccan","page":null}],"frontMatter":{"slug":"2","title":"#2 - Novo tutorial","authors":["LucasEliasBaccan"],"tags":["2023","12/2023","Lucas","Elias","Baccan"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"#3 - Cursos","permalink":"/blog/3"},"nextItem":{"title":"#1 - Primeiro post","permalink":"/blog/1"}},"content":"## Novo tutorial\\n\\nFala pessoal\\n\\nDepois de muito tempo sem postar nada, resolvi atualizar a documenta\xe7\xe3o sobre Git que eu tinha feito aqui no site. Ela estava muito tecnica e com poucas imagens, ent\xe3o resolvi reescrever ela do zero, deixando mais simples, com mais imagens e mais f\xe1cil de entender.\\n\\nAcesse o tutorial [clicando aqui](/tutorial/git/).\\n\\nFoi criado tamb\xe9m um guia r\xe1pido de comandos do Git, que voc\xea pode acessar [clicando aqui](/tutorial/git/guia_rapido).\\n\\nEspero que gostem, desejo a todos um feliz natal e um \xf3timo ano novo."},{"id":"1","metadata":{"permalink":"/blog/1","editUrl":"https://github.com/lucasbaccan/code/tree/master/blog/2022-09-30-blog-1/index.md","source":"@site/blog/2022-09-30-blog-1/index.md","title":"#1 - Primeiro post","description":"Primeiro post","date":"2022-09-30T00:00:00.000Z","tags":[{"inline":true,"label":"2022","permalink":"/blog/tags/2022"},{"inline":true,"label":"09/2022","permalink":"/blog/tags/09-2022"},{"inline":true,"label":"Lucas","permalink":"/blog/tags/lucas"},{"inline":true,"label":"Elias","permalink":"/blog/tags/elias"},{"inline":true,"label":"Baccan","permalink":"/blog/tags/baccan"}],"readingTime":0.44,"hasTruncateMarker":false,"authors":[{"name":"Lucas Elias Baccan","title":"Autor do Site","url":"https://github.com/lucasbaccan","imageURL":"https://github.com/lucasbaccan.png","key":"LucasEliasBaccan","page":null}],"frontMatter":{"slug":"1","title":"#1 - Primeiro post","authors":["LucasEliasBaccan"],"tags":["2022","09/2022","Lucas","Elias","Baccan"],"hide_table_of_contents":true},"unlisted":false,"prevItem":{"title":"#2 - Novo tutorial","permalink":"/blog/2"}},"content":"## Primeiro post\\n\\nFala pessoal\\n\\nLa em outubro de 2020, eu criei esse site, com a inten\xe7\xe3o de colocar alguns conte\xfados relacionados a tecnologia. A ideia veio, mas ficou parada. Agora quase 2 anos depois, vou voltar com a ideia, quem sabe agora de certo \ud83d\ude00.\\n\\nA inten\xe7\xe3o \xe9 tornar os site que eu favoritar, sugest\xf5es e solicita\xe7\xf5es de amigos em conte\xfados aqui, conte\xfados dos quais sejam uteis e facilitem no nosso dia a dia.\\n\\nEnt\xe3o seja bem vindo, adicione aos favoritos e se prepare para conte\xfados incr\xedveis.\\n\\n![programmer.png](programmer.png)"}]}}')}}]);
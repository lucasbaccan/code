"use strict";(self.webpackChunkcode=self.webpackChunkcode||[]).push([[7958],{5663:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"pick-2024/kubernetes/day7/index","title":"Day 7","description":"Sum\xe1rio","source":"@site/docs/cursos/pick-2024/kubernetes/day7/index.md","sourceDirName":"pick-2024/kubernetes/day7","slug":"/pick-2024/kubernetes/day7/","permalink":"/cursos/pick-2024/kubernetes/day7/","draft":false,"unlisted":false,"editUrl":"https://github.com/lucasbaccan/code/tree/master/docs/cursos/pick-2024/kubernetes/day7/index.md","tags":[],"version":"current","lastUpdatedBy":"Lucas Elias Baccan","lastUpdatedAt":1732372446000,"frontMatter":{"id":"index","title":"Day 7","hide_title":false,"hide_table_of_contents":false,"sidebar_label":"Day 7"},"sidebar":"docs","previous":{"title":"Day 6","permalink":"/cursos/pick-2024/kubernetes/day6/"},"next":{"title":"Day 8","permalink":"/cursos/pick-2024/kubernetes/day8/"}}');var r=a(4848),o=a(8453),t=a(5537),i=a(9329);a(4243);const l={id:"index",title:"Day 7",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"Day 7"},c=void 0,d={},u=[{value:"Sum\xe1rio",id:"sum\xe1rio",level:2},{value:"Dia 7",id:"dia-7",level:2},{value:"O que \xe9 um StatefulSet?",id:"o-que-\xe9-um-statefulset",level:3},{value:"O que \xe9 um Headless Service?",id:"o-que-\xe9-um-headless-service",level:3},{value:"O que s\xe3o os Services?",id:"o-que-s\xe3o-os-services",level:3},{value:"Criando os nossos Services com YAML",id:"criando-os-nossos-services-com-yaml",level:3},{value:"Li\xe7\xe3o de Casa",id:"li\xe7\xe3o-de-casa",level:3},{value:"Desafio",id:"desafio",level:2},{value:"Objetivos 1",id:"objetivos-1",level:3},{value:"Solu\xe7\xe3o 1",id:"solu\xe7\xe3o-1",level:3},{value:"Objetivos 2",id:"objetivos-2",level:3},{value:"Solu\xe7\xe3o 2",id:"solu\xe7\xe3o-2",level:3}];function p(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"sum\xe1rio",children:"Sum\xe1rio"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Intro - Day-7 - 02:09"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 O que iremos ver hoje?"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 O que \xe9 um StatefulSet? - 07:59"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 O que \xe9 um StatefulSet"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Criando o nosso primeiro StatefulSet - 08:40"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 Criando um StatefulSet"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Criando o nosso Headless Service - 11:47"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 Criando o nosso Headless Service"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Removendo o nosso StatefulSet - 01:24"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 Removendo o nosso StatefulSet"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 O que s\xe3o os Services? - 11:31"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 Services"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Criando os nossos Services ClusterIP e NodePort - 11:39"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Criando os nossos Services LoadBalancer e ExternalName - 11:16"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Criando o Service expondo outro Service - 05:05"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Criando os Services atrav\xe9s de YAML - 13:48"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 Criando os nossos Services"}),"\n",(0,r.jsx)(n.li,{children:"\ud83c\udfa5 Encerramento Day-7 - 01:55"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcd6 Encerramento e Li\xe7\xe3o de Casa do Day-7 - 01:07"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcdd Vamos testar o que voc\xea aprendeu! - 15 quest\xf5es"}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udcdd Desafio do Day-7"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Legenda"}),(0,r.jsx)(n.br,{}),"\n","\ud83c\udfa5 - Aula gravada\n\ud83d\udcd6 - Material complementar\n\ud83d\udcdd - Atividade"]}),"\n",(0,r.jsx)(n.h2,{id:"dia-7",children:"Dia 7"}),"\n",(0,r.jsx)(n.p,{children:"No dia 7, vamos aprender sobre o StatefulSet, um recurso do Kubernetes que nos permite criar aplica\xe7\xf5es com estado. Al\xe9m disso, vamos aprender sobre os Services, que s\xe3o respons\xe1veis por expor as aplica\xe7\xf5es para o mundo externo."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Material complementar: ",(0,r.jsx)(n.a,{href:"https://livro.descomplicandokubernetes.com.br/pt/day-7/",children:"Leitura complementar do Day-7"})]})}),"\n",(0,r.jsx)(n.h3,{id:"o-que-\xe9-um-statefulset",children:"O que \xe9 um StatefulSet?"}),"\n",(0,r.jsxs)(n.p,{children:["O ",(0,r.jsx)(n.strong,{children:"StatefulSet"})," \xe9 um recurso do Kubernetes que nos permite criar aplica\xe7\xf5es com estado. Ele \xe9 semelhante ao ",(0,r.jsx)(n.strong,{children:"Deployment"}),", mas com algumas diferen\xe7as importantes:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Os Pods de um StatefulSet s\xe3o criados e mantidos em uma ordem espec\xedfica."}),"\n",(0,r.jsx)(n.li,{children:"Cada Pod de um StatefulSet possui um identificador \xfanico."}),"\n",(0,r.jsx)(n.li,{children:"Os Pods de um StatefulSet s\xe3o persistentes, ou seja, eles mant\xeam o mesmo identificador mesmo ap\xf3s serem deletados."}),"\n",(0,r.jsx)(n.li,{children:"Ao criar um StatefulSet, um PVC (PersistentVolumeClaim) \xe9 criado automaticamente para cada Pod."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Geralmente, usamos um StatefulSet para aplica\xe7\xf5es que possuem um banco de dados, como MySQL, PostgreSQL, MongoDB, etc. Em menssageria, como Kafka, RabbitMQ, etc. Autentica\xe7\xe3o, como Keycloak, etc."}),"\n",(0,r.jsx)(n.p,{children:"Exemplo de um StatefulSet:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: nginx\nspec:\n  serviceName: "nginx"\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        ports:\n        - containerPort: 80\n          name: http\n        volumeMounts:\n        - name: nginx-persistent-storage\n          mountPath: /usr/share/nginx/html\n  volumeClaimTemplates:\n  - metadata:\n      name: nginx-persistent-storage\n    spec:\n      accessModes: [ "ReadWriteOnce" ]\n      resources:\n        requests:\n          storage: 1Gi\n'})}),"\n",(0,r.jsx)(n.h3,{id:"o-que-\xe9-um-headless-service",children:"O que \xe9 um Headless Service?"}),"\n",(0,r.jsxs)(n.p,{children:["O ",(0,r.jsx)(n.strong,{children:"Headless Service"})," \xe9 um tipo de Service que n\xe3o possui um IP fixo. Ele \xe9 usado para aplica\xe7\xf5es que precisam de um DNS para cada Pod. Cada Pod de um Headless Service possui um DNS espec\xedfico."]}),"\n",(0,r.jsx)(n.p,{children:"Exemplo de um Headless Service:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-headless\n  labels:\n    app: nginx\nspec:\n  ports:\n    - port: 80\n      name: http\n  clusterIP: None # Como estamos criando um Headless Service, n\xe3o queremos que ele tenha um IP, ent\xe3o definimos o clusterIP como None\n  selector:\n    app: nginx\n"})}),"\n",(0,r.jsx)(n.h3,{id:"o-que-s\xe3o-os-services",children:"O que s\xe3o os Services?"}),"\n",(0,r.jsxs)(n.p,{children:["Os ",(0,r.jsx)(n.strong,{children:"Services"})," s\xe3o respons\xe1veis por expor as aplica\xe7\xf5es para o mundo externo (fora do cluster). Existem quatro tipos de Services:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ClusterIP"})," (padr\xe3o): Exp\xf5e o Service em um IP interno no cluster. Este tipo torna o Service acess\xedvel apenas dentro do cluster."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"NodePort"}),": Exp\xf5e o Service na mesma porta de cada Node selecionado no cluster usando NAT. Torna o Service acess\xedvel de fora do cluster usando :."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"LoadBalancer"}),": Cria um balanceador de carga externo no ambiente de nuvem atual (se suportado) e atribui um IP fixo, externo ao cluster, ao Service."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ExternalName"}),": Mapeia o Service para o conte\xfado do campo externalName (por exemplo, foo.bar.example.com), retornando um registro CNAME com seu valor."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["O servi\xe7o utiliza o ",(0,r.jsx)(n.strong,{children:"selector"})," para saber para qual Pod ele deve redirecionar a requisi\xe7\xe3o. O ",(0,r.jsx)(n.strong,{children:"selector"})," \xe9 um conjunto de labels que o Service utiliza para saber para qual Pod ele deve redirecionar a requisi\xe7\xe3o."]}),"\n",(0,r.jsx)(n.h3,{id:"criando-os-nossos-services-com-yaml",children:"Criando os nossos Services com YAML"}),"\n",(0,r.jsx)(n.p,{children:"Para criar um Service, precisamos de um arquivo YAML com a seguinte estrutura:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ClusterIP:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-clusterip\n  labels:\n    app: nginx\nspec:\n  ports:\n    - port: 80\n      name: http\n  selector:\n    app: nginx\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"NodePort:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-nodeport\n  labels:\n    app: nginx\nspec:\n  type: NodePort\n  ports:\n    - port: 80\n      targetPort: 80\n      nodePort: 30080\n      name: http\n  selector:\n    app: nginx\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"LoadBalancer:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-loadbalancer\n  labels:\n    app: nginx\nspec:\n  type: LoadBalancer\n  ports:\n    - port: 80\n      targetPort: 80\n      name: http\n  selector:\n    app: nginx\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ExternalName:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-externalname\n  labels:\n    app: nginx\nspec:\n  type: ExternalName\n  externalName: nginx.com\n"})}),"\n",(0,r.jsx)(n.h3,{id:"li\xe7\xe3o-de-casa",children:"Li\xe7\xe3o de Casa"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Quero que voc\xea crie e gerencie um StatefulSet em seu pr\xf3prio ambiente Kubernetes. Comece criando um StatefulSet simples com um par de Pods e depois tente escal\xe1-lo para mais Pods. Experimente tamb\xe9m apagar um Pod e veja como o Kubernetes lida com isso.",(0,r.jsx)(n.br,{}),"\n","Em seguida, brinque com os Services. Exponha seu StatefulSet atrav\xe9s de um Service do tipo ClusterIP e depois tente mudar para um NodePort ou LoadBalancer. Teste a conectividade para garantir que tudo est\xe1 funcionando corretamente.",(0,r.jsx)(n.br,{}),"\n","E por \xfaltimo, mas n\xe3o menos importante, crie um Service do tipo ExternalName e aponte-o para um servi\xe7o externo de sua escolha. Verifique se o servi\xe7o externo est\xe1 acess\xedvel de dentro de seus Pods.",(0,r.jsx)(n.br,{}),"\n","Lembre-se, a pr\xe1tica leva \xe0 perfei\xe7\xe3o, ent\xe3o n\xe3o pule essa li\xe7\xe3o de casa! ;) E quando tiver d\xfavidas ou enfrentar problemas, n\xe3o hesite em procurar ajuda. Estamos todos aqui para aprender juntos!"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# StatefulSet\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: nginx\nspec:\n  serviceName: "nginx"\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        ports:\n        - containerPort: 80\n          name: http\n---\n# Service ClusterIP\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-clusterip\n  labels:\n    app: nginx\nspec:\n  ports:\n    - port: 80\n      name: http\n  selector:\n    app: nginx\n---\n# Service NodePort\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-nodeport\n  labels:\n    app: nginx\nspec:\n  type: NodePort\n  ports:\n    - port: 80\n      targetPort: 80\n      nodePort: 30080\n      name: http\n  selector:\n    app: nginx\n'})}),"\n",(0,r.jsx)(n.h2,{id:"desafio",children:"Desafio"}),"\n",(0,r.jsx)(n.h3,{id:"objetivos-1",children:"Objetivos 1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:'\ud83c\udfd7\ufe0f Crie um StatefulSet do Nginx com tr\xeas r\xe9plicas, cada uma com seu pr\xf3prio volume persistente. O StatefulSet deve ser nomeado "giropops-set".'}),"\n",(0,r.jsx)(n.li,{children:'\ud83c\udfaf Configure um Headless Service para o StatefulSet criado. O servi\xe7o deve ser nomeado "giropops-service".'}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f Verifique se o StatefulSet, o Service e o Pod foram criados corretamente e se est\xe3o em execu\xe7\xe3o."}),"\n",(0,r.jsx)(n.li,{children:"\ud83d\udd04 Fa\xe7a um upgrade do StatefulSet para a vers\xe3o 1.19.0 do Nginx."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"solu\xe7\xe3o-1",children:"Solu\xe7\xe3o 1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="statefulset.yaml"',children:'apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: giropops-set\nspec:\n  serviceName: "giropops-service"\n  replicas: 3\n  selector:\n    matchLabels:\n      app: giropops\n  template:\n    metadata:\n      labels:\n        app: giropops\n    spec:\n      containers:\n      - name: giropops\n        image: nginx:1.19.0\n        ports:\n        - containerPort: 80\n          name: http\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="headless-service.yaml"',children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: giropops-service\n  labels:\n    app: giropops\nspec:\n  ports:\n    - port: 80\n      name: http\n  clusterIP: None\n  selector:\n    app: giropops\n"})}),"\n",(0,r.jsx)(n.h3,{id:"objetivos-2",children:"Objetivos 2"}),"\n",(0,r.jsx)(n.p,{children:"Neste desafio, voc\xea ter\xe1 que resolver um problema com o nosso Deployment e Service do Giropops-Senhas."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\ud83d\udd75\ufe0f\u200d\u2640\ufe0f Verifique se o Deployment e o Service foram criados corretamente e se est\xe3o funcionando como esperado, sen\xe3o, corrija o problema"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"solu\xe7\xe3o-2",children:"Solu\xe7\xe3o 2"}),"\n",(0,r.jsxs)(t.A,{groupId:"solucao2",queryString:!0,children:[(0,r.jsx)(i.A,{value:"giropops-senhas-service.yaml-solucao",label:"Solu\xe7\xe3o",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="giropops-senhas-service.yaml" showLineNumbers {9,13,14}',children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: giropops-senhas\n  labels:\n    app: giropops-senhas\nspec:\n  selector:\n    app: giropops-senhas\n  ports:\n    - protocol: TCP\n      port: 5000\n\n      targetPort: 5000\n      name: tcp-app\n  type: NodePort\n"})})}),(0,r.jsx)(i.A,{value:"giropops-senhas-service.yaml-original",label:"Original",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="giropops-senhas-service.yaml" showLineNumbers {9,13,14}',children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: giropops-senhas\n  labels:\n    app: giropops-senhas\nspec:\n  selector:\n    app: giropops-senha\n  ports:\n    - protocol: TCP\n      port: 5000\n      nodePort: 32500\n      targetPort: 32767\n      name: tcp-app\n  type: NodePort\n"})})})]}),"\n",(0,r.jsxs)(t.A,{groupId:"solucao2",queryString:!0,children:[(0,r.jsx)(i.A,{value:"giropops-senhas-deployment.yaml-solucao",label:"Solu\xe7\xe3o",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="giropops-senhas-deployment.yaml" showLineNumbers',children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: giropops-senhas\n  name: giropops-senhas\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: giropops-senhas\n  template:\n    metadata:\n      labels:\n        app: giropops-senhas\n    spec:\n      containers:\n      - image: linuxtips/giropops-senhas:1.0\n        name: giropops-senhas\n        ports:\n        - containerPort: 5000\n        imagePullPolicy: Always\n"})})}),(0,r.jsx)(i.A,{value:"giropops-senhas-deployment.yaml-original",label:"Original",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="giropops-senhas-deployment.yaml" showLineNumbers',children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: giropops-senhas\n  name: giropops-senhas\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: giropops-senhas\n  template:\n    metadata:\n      labels:\n        app: giropops-senhas\n    spec:\n      containers:\n      - image: linuxtips/giropops-senhas:1.0\n        name: giropops-senhas\n        ports:\n        - containerPort: 5000\n        imagePullPolicy: Always\n"})})})]}),"\n",(0,r.jsxs)(t.A,{groupId:"solucao2",queryString:!0,children:[(0,r.jsx)(i.A,{value:"redis-deployment.yaml-solucao",label:"Solu\xe7\xe3o",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="redis-deployment.yaml" showLineNumbers {21}',children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: redis\n  name: redis-deployment\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: redis\n  template:\n    metadata:\n      labels:\n        app: redis\n    spec:\n      containers:\n      - image: redis\n        name: redis\n        ports:\n          - containerPort: 6379\n"})})}),(0,r.jsx)(i.A,{value:"redis-deployment.yaml-original",label:"Original",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="redis-deployment.yaml" showLineNumbers {21}',children:"apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: redis\n  name: redis-deployment\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: redis\n  template:\n    metadata:\n      labels:\n        app: redis\n    spec:\n      containers:\n      - image: redis\n        name: redis\n        ports:\n          - containerPort: 6579\n"})})})]}),"\n",(0,r.jsxs)(t.A,{groupId:"solucao2",queryString:!0,children:[(0,r.jsx)(i.A,{value:"redis-service.yaml-solucao",label:"Solu\xe7\xe3o",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="redis-service.yaml" showLineNumbers {7,11}',children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: redis-service\nspec:\n  selector:\n    app: redis\n  ports:\n    - protocol: TCP\n      port: 6379\n      targetPort: 6379\n  type: ClusterIP\n"})})}),(0,r.jsx)(i.A,{value:"redis-service.yaml-original",label:"Original",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="redis-service.yaml" showLineNumbers {7,11}',children:"apiVersion: v1\nkind: Service\nmetadata:\n  name: redis-service\nspec:\n  selector:\n    app: redis-service\n  ports:\n    - protocol: TCP\n      port: 6379\n      targetPort: 6679\n  type: ClusterIP\n"})})})]})]})}function m(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},9329:(e,n,a)=>{a.d(n,{A:()=>t});a(6540);var s=a(4164);const r={tabItem:"tabItem_Ymn6"};var o=a(4848);function t(e){let{children:n,hidden:a,className:t}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,t),hidden:a,children:n})}},5537:(e,n,a)=>{a.d(n,{A:()=>y});var s=a(6540),r=a(4164),o=a(5627),t=a(6347),i=a(372),l=a(604),c=a(1861),d=a(8749);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:a}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:s,default:r}}=e;return{value:n,label:a,attributes:s,default:r}}))}(a);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function m(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:a}=e;const r=(0,t.W6)(),o=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,l.aZ)(o),(0,s.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(r.location.search);n.set(o,e),r.replace({...r.location,search:n.toString()})}),[o,r])]}function x(e){const{defaultValue:n,queryString:a=!1,groupId:r}=e,o=p(e),[t,l]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=a.find((e=>e.default))??a[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:o}))),[c,u]=h({queryString:a,groupId:r}),[x,v]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,o]=(0,d.Dv)(a);return[r,(0,s.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:r}),g=(()=>{const e=c??x;return m({value:e,tabValues:o})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:t,selectValue:(0,s.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),v(e)}),[u,v,o]),tabValues:o}}var v=a(9136);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=a(4848);function j(e){let{className:n,block:a,selectedValue:s,selectValue:t,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),d=e=>{const n=e.currentTarget,a=l.indexOf(n),r=i[a].value;r!==s&&(c(n),t(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=l.indexOf(e.currentTarget)+1;n=l[a]??l[0];break}case"ArrowLeft":{const a=l.indexOf(e.currentTarget)-1;n=l[a]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":a},n),children:i.map((e=>{let{value:n,label:a,attributes:o}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...o,className:(0,r.A)("tabs__item",g.tabItem,o?.className,{"tabs__item--active":s===n}),children:a??n},n)}))})}function f(e){let{lazy:n,children:a,selectedValue:o}=e;const t=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=t.find((e=>e.props.value===o));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:t.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function S(e){const n=x(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,b.jsx)(j,{...n,...e}),(0,b.jsx)(f,{...n,...e})]})}function y(e){const n=(0,v.A)();return(0,b.jsx)(S,{...e,children:u(e.children)},String(n))}},4243:(e,n,a)=>{a.d(n,{A:()=>t});var s=a(6540),r=a(8532),o=a(4848);function t(e){let{children:n,fontSize:a="15px",color:t="#999",bgColor:i=null,bgColorDark:l=null}=e;const{colorMode:c}=(0,r.G)(),[d,u]=(0,s.useState)(null);(0,s.useEffect)((()=>{u("dark"===c?l||null:i||null)}),[c]);const p={textAlign:"center",fontSize:a,color:t,backgroundColor:d};return(0,o.jsx)("div",{style:p,children:n})}},8453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>i});var s=a(6540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
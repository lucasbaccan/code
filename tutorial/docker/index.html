<!doctype html>
<html lang="pt-BR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-tutorial docs-version-current docs-doc-page docs-doc-id-docker/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Docker | Code</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://code.lucasbaccan.com.br/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://code.lucasbaccan.com.br/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://code.lucasbaccan.com.br/tutorial/docker/"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" name="docusaurus_locale" content="pt-BR"><meta data-rh="true" name="docsearch:language" content="pt-BR"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-tutorial-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-tutorial-current"><meta data-rh="true" property="og:title" content="Docker | Code"><meta data-rh="true" name="description" content="üöß Em constru√ß√£o üöß"><meta data-rh="true" property="og:description" content="üöß Em constru√ß√£o üöß"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://code.lucasbaccan.com.br/tutorial/docker/"><link data-rh="true" rel="alternate" href="https://code.lucasbaccan.com.br/tutorial/docker/" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://code.lucasbaccan.com.br/tutorial/docker/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Docker","item":"https://code.lucasbaccan.com.br/tutorial/docker/"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Code RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Code Atom Feed"><link rel="stylesheet" href="/assets/css/styles.9ef2f7e3.css">
<script src="/assets/js/runtime~main.9da8b36e.js" defer="defer"></script>
<script src="/assets/js/main.cb24f810.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Pular para o conte√∫do principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conte√∫do principal</a></div><nav aria-label="Navega√ß√£o principal" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar painel de navega√ß√£o" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/programmer.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/programmer.svg" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Code</b></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/cursos/">Cursos</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/tutorial/">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/info/">Info</a><a href="https://github.com/lucasbaccan/code" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="modo do sistema" aria-label="Mudar entre modo claro e escuro (modo do sistema est√° ativo)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Pesquisar" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Voltar para o topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Painel lateral de documentos" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tutorial/"><span title="Tutorial" class="linkLabel_WmDU">Tutorial</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/tutorial/docker/"><span title="Docker" class="linkLabel_WmDU">Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tutorial/git/guia_rapido"><span title="Git - Guia r√°pido" class="linkLabel_WmDU">Git - Guia r√°pido</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tutorial/git/"><span title="Git" class="linkLabel_WmDU">Git</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tutorial/site_docusaurus/introducao"><span title="Site com docusaurus" class="categoryLinkLabel_W154">Site com docusaurus</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tutorial/sql/"><span title="SQL" class="linkLabel_WmDU">SQL</span></a></li></ul></nav><button type="button" title="Recolher painel lateral" aria-label="Recolher painel lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Trilha"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="P√°gina Inicial" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Docker</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Nesta p√°gina</button></div><div class="theme-doc-markdown markdown"><header><h1>Docker</h1></header><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>üöß Em constru√ß√£o üöß</p></div></div>
<p>Fala pessoal, tudo bem? Hoje quero falar um pouco sobre Docker, na minha opini√£o uma das ferramentas mais importantes para um desenvolvedor, logo ap√≥s o <a href="/tutorial/git/">Git</a>, pois permite que voc√™ crie ambientes isolados para suas aplica√ß√µes, facilitando o desenvolvimento, testes e deploy de suas aplica√ß√µes, padronizando ambientes e evitando o famoso &quot;na minha m√°quina funciona&quot;.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" src="https://media.giphy.com/media/w5rTXEfu4as4YAR6QI/giphy.gif" alt="Container" class="img_ev3q"><br>
<!-- -->Docker + Container = ‚ù§Ô∏è</p></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="o-que-√©-docker">O que √© Docker?<a href="#o-que-√©-docker" class="hash-link" aria-label="Link direto para O que √© Docker?" title="Link direto para O que √© Docker?" translate="no">‚Äã</a></h2>
<p>Na <a href="https://docs.docker.com/get-started/docker-overview/" target="_blank" rel="noopener noreferrer">documenta√ß√£o oficial</a> do Docker, temos a seguinte defini√ß√£o:</p>
<blockquote>
<p>Docker is an open platform for developing, shipping, and running applications. Docker enables you to separate your applications from your infrastructure so you can deliver software quickly. With Docker, you can manage your infrastructure in the same ways you manage your applications. By taking advantage of Docker&#x27;s methodologies for shipping, testing, and deploying code, you can significantly reduce the delay between writing code and running it in production.</p>
</blockquote>
<p>Que em uma tradu√ß√£o livre seria:</p>
<blockquote>
<p>Docker √© uma plataforma aberta para desenvolver, enviar e executar aplica√ß√µes. Docker permite que voc√™ separe suas aplica√ß√µes da sua infraestrutura para que voc√™ possa entregar software rapidamente. Com Docker, voc√™ pode gerenciar sua infraestrutura da mesma forma que gerencia suas aplica√ß√µes. Ao aproveitar as metodologias do Docker para enviar, testar e implantar c√≥digo, voc√™ pode reduzir significativamente o atraso entre escrever o c√≥digo e execut√°-lo em produ√ß√£o.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hist√≥ria-e-evolu√ß√£o-do-docker">Hist√≥ria e evolu√ß√£o do Docker<a href="#hist√≥ria-e-evolu√ß√£o-do-docker" class="hash-link" aria-label="Link direto para Hist√≥ria e evolu√ß√£o do Docker" title="Link direto para Hist√≥ria e evolu√ß√£o do Docker" translate="no">‚Äã</a></h2>
<p>O Docker utiliza tecnologias existentes no Linux, como <strong>namespaces</strong> e <strong>cgroups</strong>, para criar, executar e gerenciar containers. O Docker foi criado em 2013 por Solomon Hykes, como um projeto interno da dotCloud, uma empresa de PaaS (Platform as a Service). Em 2013, o Docker foi lan√ßado como um projeto open-source, e em 2014, a dotCloud mudou o nome para Docker Inc., para focar no desenvolvimento e suporte do Docker.</p>
<p>O conceito de <strong>Linux Containers (LXC)</strong> j√° existia antes do Docker, mas o Docker adicionou uma camada de abstra√ß√£o para facilitar a cria√ß√£o, execu√ß√£o e gerenciamento de containers, al√©m de adicionar funcionalidades como Dockerfile, Docker Compose e Docker Hub.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>Existem outras tecnologias de containers, como <strong>rkt (Rocket)</strong>, <strong>Podman</strong>, <strong>LXD</strong>, <strong>containerd</strong>, <strong>CRI-O</strong>, <strong>Kubernetes</strong>, etc. Nesse tutorial, vamos focar no Docker, que √© a tecnologia de containers mais conhecida e utilizada.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vantagens-do-uso-de-containers">Vantagens do uso de containers<a href="#vantagens-do-uso-de-containers" class="hash-link" aria-label="Link direto para Vantagens do uso de containers" title="Link direto para Vantagens do uso de containers" translate="no">‚Äã</a></h2>
<ul>
<li><strong>Leveza</strong>: Containers compartilham o mesmo kernel do host, ent√£o eles s√£o mais leves que m√°quinas virtuais.</li>
<li><strong>R √°pido</strong>: Containers s√£o mais r√°pidos para iniciar e parar que m√°quinas virtuais.</li>
<li><strong>Portabilidade</strong>: Containers podem ser executados em qualquer lugar, desde o seu laptop at√© o ambiente de produ√ß√£o.</li>
<li><strong>Padroniza√ß√£o</strong>: Com Docker, voc√™ pode padronizar os ambientes de desenvolvimento, teste e produ√ß√£o.</li>
<li><strong>Isolamento</strong>: Containers s√£o isolados do host e de outros containers, ent√£o voc√™ pode executar v√°rias aplica√ß√µes no mesmo host sem interfer√™ncia.</li>
<li><strong>Escalabilidade</strong>: Com Docker, voc√™ pode escalar sua aplica√ß√£o facilmente, adicionando ou removendo containers.</li>
<li><strong>Reprodutibilidade</strong>: Com Docker, voc√™ pode reproduzir o ambiente de desenvolvimento, teste e produ√ß√£o facilmente.</li>
<li><strong>Seguran√ßa</strong>: Containers s√£o isolados do host e de outros containers, ent√£o voc√™ pode executar aplica√ß√µes de terceiros com seguran√ßa.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker-vs-m√°quina-virtual">Docker vs M√°quina Virtual<a href="#docker-vs-m√°quina-virtual" class="hash-link" aria-label="Link direto para Docker vs M√°quina Virtual" title="Link direto para Docker vs M√°quina Virtual" translate="no">‚Äã</a></h2>
<p>Antes de continuarmos, √© importante entender a diferen√ßa entre Docker e M√°quina Virtual.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Docker vs M√°quina Virtual" src="/assets/images/img_docker_vs_vm-2f6827dd3056f811183922d05a8256ff.jpg" width="741" height="314" class="img_ev3q"><br>
<!-- -->Fonte: <a href="https://www.sdxcentral.com/cloud/containers/definitions/containers-vs-vms/" target="_blank" rel="noopener noreferrer">https://www.sdxcentral.com/cloud/containers/definitions/containers-vs-vms/</a></p></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="m√°quina-virtual">M√°quina Virtual<a href="#m√°quina-virtual" class="hash-link" aria-label="Link direto para M√°quina Virtual" title="Link direto para M√°quina Virtual" translate="no">‚Äã</a></h3>
<ul>
<li>Utiliza um Hypervisor para virtualizar o hardware.</li>
<li>Cada m√°quina virtual possui seu pr√≥prio sistema operacional.</li>
<li>Cada m√°quina virtual possui seu pr√≥prio kernel.</li>
<li>Cada m√°quina virtual possui seu pr√≥prio sistema de arquivos.</li>
<li>Cada m√°quina virtual possui seu pr√≥prio consumo de mem√≥ria e CPU.</li>
<li>Cada m√°quina virtual √© isolada da outra.</li>
</ul>
<p>Em resumo, a M√°quina Virtual √© uma m√°quina dentro de outra m√°quina, e isso consome mais recursos computacionais, visto que cada m√°quina virtual possui seu pr√≥prio sistema operacional, kernel, sistema de arquivos.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker">Docker<a href="#docker" class="hash-link" aria-label="Link direto para Docker" title="Link direto para Docker" translate="no">‚Äã</a></h3>
<ul>
<li>Utiliza o Docker Engine para gerenciar containers e a comunica√ß√£o com o host.</li>
<li>Todos os containers compartilham o mesmo sistema operacional.</li>
<li>Todos os containers compartilham o mesmo kernel.</li>
<li>Todos os containers compartilham o mesmo sistema de arquivos.</li>
<li>Todos os containers compartilham o mesmo consumo de mem√≥ria e CPU do host. Mas cada container pode ter limites de mem√≥ria e CPU individuais.</li>
<li>Cada container √© isolado do outro.</li>
</ul>
<p>Em resumo, o Docker compartilha o sistema operacional e kernel do host, e isso consome menos recursos computacionais, somente a aplica√ß√£o e suas depend√™ncias s√£o isoladas do host e dos outros containers.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conceitos-b√°sicos">Conceitos b√°sicos<a href="#conceitos-b√°sicos" class="hash-link" aria-label="Link direto para Conceitos b√°sicos" title="Link direto para Conceitos b√°sicos" translate="no">‚Äã</a></h2>
<p>Antes de come√ßar a pr√°tica, √© importante entender alguns conceitos b√°sicos do Docker, assim voc√™ vai se familiarizar com os termos e funcionalidades do Docker e ver como ele pode te ajudar no dia a dia.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="image-imagem">Image (Imagem)<a href="#image-imagem" class="hash-link" aria-label="Link direto para Image (Imagem)" title="Link direto para Image (Imagem)" translate="no">‚Äã</a></h3>
<p>Uma image/imagem √© um pacote que cont√©m tudo o que √© necess√°rio para executar uma aplica√ß√£o, incluindo o c√≥digo, as bibliotecas, as depend√™ncias, as vari√°veis de ambiente e as configura√ß√µes. <strong>Uma imagem √© somente leitura e √© usada para criar containers.</strong></p>
<p><strong>Exemplo</strong>: A imagem <code>nginx:latest</code> cont√©m o servidor web Nginx, suas depend√™ncias e configura√ß√µes. Com essa imagem, voc√™ pode criar e executar containers com o servidor web Nginx facilmente.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="container">Container<a href="#container" class="hash-link" aria-label="Link direto para Container" title="Link direto para Container" translate="no">‚Äã</a></h3>
<p>Utilizando a imagem, voc√™ criar um container, √© ele que vai executar a aplica√ß√£o. Ele utiliza como base a imagem e adiciona uma camada de escrita, e √© essa camada que vai permitir que a aplica√ß√£o escreva dados, crie arquivos, etc. Por padr√£o todos os dados do container s√£o perdidos quando ele √© finalizado, mas voc√™ pode persistir os dados utilizando volumes. O container √© isolado do host e de outros containers (por padr√£o), ent√£o voc√™ pode executar v√°rias aplica√ß√µes no mesmo host sem interfer√™ncia de um container com outro container.</p>
<p><strong>Exemplo</strong>: Utilizando a imagem <code>nginx:latest</code>, voc√™ pode criar e executar um ou mais containers com o servidor web Nginx, cada container √© isolado do outro, ent√£o voc√™ pode executar v√°rias inst√¢ncias do Nginx no mesmo host sem interfer√™ncia, desde que cada container utilize uma porta diferente.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tag">Tag<a href="#tag" class="hash-link" aria-label="Link direto para Tag" title="Link direto para Tag" translate="no">‚Äã</a></h3>
<p>Uma tag √© uma refer√™ncia a uma imagem. <strong>Uma imagem pode ter v√°rias tags, e cada tag pode ser usada para identificar uma vers√£o da imagem.</strong> Por padr√£o, uma imagem sem tag √© considerada a tag <code>latest</code>. Ent√£o voc√™ pode utilizar tags para identificar vers√µes espec√≠ficas da imagem, como <code>latest</code>, <code>1.0</code>, <code>1.1</code>, <code>1.2</code>, etc.</p>
<p><strong>Exemplo</strong>:</p>
<ul>
<li><code>ubuntu</code>: √öltima vers√£o da imagem Ubuntu. O mesmo que <code>ubuntu:latest</code>.</li>
<li><code>ubuntu:latest</code>: √öltima vers√£o da imagem Ubuntu. O mesmo que <code>ubuntu</code>.</li>
<li><code>ubuntu:24.04</code>: Vers√£o 24.04 da imagem Ubuntu.</li>
<li><code>ubuntu:18.04</code>: Vers√£o 18.04 da imagem Ubuntu.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-hub--docker-registry">Docker Hub / Docker Registry<a href="#docker-hub--docker-registry" class="hash-link" aria-label="Link direto para Docker Hub / Docker Registry" title="Link direto para Docker Hub / Docker Registry" translate="no">‚Äã</a></h3>
<p>Docker Hub √© um servi√ßo na nuvem que permite que voc√™ compartilhe imagens Docker publicamente ou privadamente. <strong>Docker Hub √© o reposit√≥rio oficial de imagens Docker, √© o que conhecemos como <em>Docker Registry</em>.</strong> No Docker Hub, voc√™ pode encontrar imagens oficiais de v√°rias tecnologias, como Ubuntu, MySQL, PostgreSQL, Nginx, Apache, etc. Voc√™ tamb√©m pode criar seu pr√≥prio reposit√≥rio no Docker Hub e compartilhar suas imagens com outras pessoas.</p>
<p>Existem outros <em>registries</em> de imagens Docker, a maioria deles s√£o privados, como o <a href="https://docs.aws.amazon.com/pt_br/AmazonECR/latest/userguide/what-is-ecr.html" target="_blank" rel="noopener noreferrer">Amazon Elastic Container Registry (ECR)</a>, <a href="https://cloud.google.com/container-registry/docs/overview" target="_blank" rel="noopener noreferrer">Google Container Registry (GCR)</a>, <a href="https://learn.microsoft.com/pt-br/azure/container-registry/container-registry-intro" target="_blank" rel="noopener noreferrer">Azure Container Registry (ACR)</a>, etc. Al√©m do <em>docker hub</em>, voc√™ pode utilizar o <a href="https://docs.github.com/pt/packages/working-with-a-github-packages-registry/working-with-the-container-registry" target="_blank" rel="noopener noreferrer">GitHub Container Registry (GHCR)</a> para armazenar suas imagens Docker privadamente ou publicamente sem custos adicionais.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile">Dockerfile<a href="#dockerfile" class="hash-link" aria-label="Link direto para Dockerfile" title="Link direto para Dockerfile" translate="no">‚Äã</a></h3>
<p>Um Dockerfile √© um arquivo de texto que cont√©m uma lista de instru√ß√µes para criar uma imagem. Nele voc√™ informa qual a imagem base, as depend√™ncias, as vari√°veis de ambiente, os comandos de instala√ß√£o, os comandos de execu√ß√£o, etc. Com um Dockerfile, voc√™ pode padronizar o ambiente de desenvolvimento, teste e produ√ß√£o da sua aplica√ß√£o.</p>
<p>O Dockerfile √© composto por v√°rias instru√ß√µes, como <code>FROM</code>, <code>RUN</code>, <code>COPY</code>, <code>CMD</code>, <code>ENTRYPOINT</code>, <code>EXPOSE</code>, <code>ENV</code>, <code>WORKDIR</code>, <code>VOLUME</code>, <code>USER</code>, <code>HEALTHCHECK</code>, etc. Mas n√£o se preocupe em decorar todas as instru√ß√µes, voc√™ vai aprender na pr√°tica como utilizar cada uma delas e com o tempo voc√™ vai se familiarizar com elas.</p>
<p>Por padr√£o, o Dockerfile √© nomeado como <code>Dockerfile</code>, mas voc√™ pode utilizar qualquer nome, desde que informe o nome do arquivo no comando <code>docker build</code> usando o par√¢metro <code>-f</code> ou <code>--file</code> seguido do nome do arquivo, ent√£o</p>
<p><strong>Exemplo de um Dockerfile para criar uma imagem com Node.js</strong>:</p>
<div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Dockerfile</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Define a imagem base</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Geralmente √© o primeiro comando no Dockerfile, e √© obrigat√≥rio</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Imagem oficial do Node.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># https://hub.docker.com/layers/library/node/23.6.0/images/sha256-39a107554b5037a135efb3853517dcc66cf653a144ff3f16533edd65c36b4abf</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> node:23.6.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o diret√≥rio de trabalho</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># √â opcional, mas √© uma boa pr√°tica definir o diret√≥rio de trabalho</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">WORKDIR</span><span class="token instruction"> /app</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copia os arquivos do host para o container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> . .</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># O comando COPY copia os arquivos do host para o container.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># .(ponto) √© o diret√≥rio atual do host, e .(ponto) √© o diret√≥rio atual do container, que por causa do WORKDIR √© /app</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Ent√£o ele copiar√° todos os arquivos do diret√≥rio atual do host para o diret√≥rio /app do container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Instala as depend√™ncias</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> npm clean-install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># O comando RUN executa um comando no container durante a constru√ß√£o da imagem.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Nesse caso, ele est√° executando o comando npm clean-install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># para instalar as depend√™ncias do projeto.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># O comando clean-install √© semelhante ao npm install,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># mas ele remove a pasta node_modules antes de instalar as depend√™ncias,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># garantindo que as depend√™ncias sejam instaladas corretamente de acordo com o package-lock.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># e nunca instale uma vers√£o diferente da depend√™ncia, mesmo que a vers√£o seja compat√≠vel.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Isso garante maior consist√™ncia entre os ambientes de desenvolvimento, teste e produ√ß√£o.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Vari√°veis de ambiente para produ√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">ENV</span><span class="token instruction"> NODE_ENV=production</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># O comando ENV define uma vari√°vel de ambiente no container.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Nesse caso, ele est√° definindo a vari√°vel NODE_ENV como production, que √© uma boa pr√°tica para aplica√ß√µes Node.js em produ√ß√£o.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Exp√µe a porta 3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># √â opcional, mas √© uma boa pr√°tica informar a porta que a aplica√ß√£o ir√° utilizar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">EXPOSE</span><span class="token instruction"> 3000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Mesmo se n√£o usar o comando EXPOSE, voc√™ pode mapear a porta do container para a porta do host</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># usando o par√¢metro -p ou --publish no comando docker run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Exemplo: docker run -p 3000:3000 &lt;imagem&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o comando de execu√ß√£o quando o container for iniciado</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Forma 1: CMD [&quot;node&quot;, &quot;index.js&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Forma 2: CMD node index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;node&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;index.js&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div>
<p>Esse √© um exemplo simples de um Dockerfile para criar uma imagem com Node.js. Com esse Dockerfile, voc√™ pode criar uma imagem com Node.js, instalar as depend√™ncias, expor a porta 3000 e definir o comando de execu√ß√£o. Com essa imagem, voc√™ pode criar e executar containers com Node.js facilmente.</p>
<p>Depois da imagem criada, voc√™ n√£o precisa mais se preocupar com a instala√ß√£o do Node.js, das depend√™ncias, das vari√°veis de ambiente, da porta, etc. Sempre que for executado um container a partir dessa imagem, ele ter√° tudo o que precisa para executar a aplica√ß√£o, sempre da mesma forma.</p>
<p>Depois vamos criar mais exemplos para entender melhor como isso funciona na pr√°tica.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="layers-camadas">Layers (Camadas)<a href="#layers-camadas" class="hash-link" aria-label="Link direto para Layers (Camadas)" title="Link direto para Layers (Camadas)" translate="no">‚Äã</a></h3>
<p>Uma imagem Docker √© composta por v√°rias camadas, onde cada camada √© uma modifica√ß√£o da camada anterior. <strong>Quando voc√™ cria uma imagem, o Docker cria uma camada para cada instru√ß√£o no Dockerfile.</strong> Isso permite que o Docker reutilize camadas, diminuindo armazenamento e tempo de constru√ß√£o.</p>
<p>De in√≠cio voc√™ n√£o precisa se preocupar com as camadas, mas quando tiver mais experi√™ncia com Docker, √© importante entender como as camadas funcionam para otimizar o tamanho das imagens e o tempo de constru√ß√£o. Assim voc√™ pode criar imagens menores e mais r√°pidas, economizando espa√ßo em disco e tempo de execu√ß√£o. Essas otimiza√ß√µes n√£o afetam performance da aplica√ß√£o.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="volume">Volume<a href="#volume" class="hash-link" aria-label="Link direto para Volume" title="Link direto para Volume" translate="no">‚Äã</a></h3>
<p>Enquanto nosso container est√° em execu√ß√£o, ele pode criar arquivos, diret√≥rios, bancos de dados, etc. Mas quando o container √© finalizado, todos os dados s√£o perdidos. √â a√≠ que entra o volume. <strong>Um volume √© um diret√≥rio ou arquivo que √© montado no container, e que persiste os dados mesmo que o container seja finalizado.</strong> Com volumes, voc√™ pode compartilhar dados entre containers, persistir dados em um diret√≥rio espec√≠fico, fazer backup dos dados, etc.</p>
<p>Existem dois tipos de volumes:</p>
<ol>
<li>
<p><strong>Volumes gerenciados pelo Docker</strong>: S√£o volumes criados e gerenciados pelo Docker. Eles s√£o armazenados em um diret√≥rio espec√≠fico no host e podem ser compartilhados entre containers. Para criar um volume gerenciado pelo Docker, voc√™ pode usar o comando <code>docker volume create &lt;nome-do-volume&gt;</code>.</p>
</li>
<li>
<p><strong>Bind mounts</strong>: S√£o diret√≥rios ou arquivos do host que s√£o montados no container. Com bind mounts, voc√™ pode compartilhar dados entre o host e o container. Para criar um bind mount, voc√™ pode usar o par√¢metro <code>-v</code> ou <code>--mount</code> no comando <code>docker run -v CAMINHO_HOST:CAMINHO_CONTAINER &lt;imagem&gt;</code>. Por exemplo: <code>docker run -v /caminho/no/host:/caminho/no/container &lt;imagem&gt;</code>.</p>
</li>
</ol>
<p>Ent√£o voc√™ pode apagar, parar, reiniciar, remover o container, que os dados v√£o continuar l√°, pois eles est√£o armazenados no volume.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-compose">Docker Compose<a href="#docker-compose" class="hash-link" aria-label="Link direto para Docker Compose" title="Link direto para Docker Compose" translate="no">‚Äã</a></h3>
<p>O Docker Compose √© um plugin do Docker que permite que voc√™ defina e execute aplica√ß√µes Docker multi-container. <strong>Com Docker Compose, voc√™ pode usar um arquivo YAML (compose.yaml) para configurar os servi√ßos da sua aplica√ß√£o, e depois, com um √∫nico comando, voc√™ cria e inicia todos os servi√ßos.</strong> Cada servi√ßo √© executado em um container separado, mas eles podem se comunicar entre si, compartilhar volumes, redes, etc.</p>
<p>Seguindo o exemplo anterior, da para criar um arquivo <code>compose.yaml</code> com a aplica√ß√£o e o banco de dados, e com um √∫nico comando, voc√™ cria e inicia os containers da aplica√ß√£o e do banco de dados.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">compose.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dockerfile </span><span class="token comment" style="color:#999988;font-style:italic"># Caminho do Dockerfile criado anteriormente</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;80:3000&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># mapeamento de portas</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> NODE_ENV=production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> DATABASE_HOST=db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">db</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/mysql</span><br></span></code></pre></div></div>
<p>O exemplo acima cria dois containers:</p>
<p><strong>Container:</strong> app</p>
<ul>
<li>Utiliza o Dockerfile criado anteriormente para construir a imagem da aplica√ß√£o Node.js.</li>
<li>Mapeia a porta 3000 do container para a porta 80 do host.</li>
<li>Define vari√°veis de ambiente para a aplica√ß√£o.</li>
<li>Depende do servi√ßo db, ou seja, o container da aplica√ß√£o s√≥ ser√° iniciado depois que o container do banco de dados estiver em execu√ß√£o.</li>
</ul>
<p><strong>Container:</strong> db</p>
<ul>
<li>Utiliza a imagem oficial do MySQL 5.7.</li>
<li>Define vari√°veis de ambiente para o banco de dados.</li>
<li>Utiliza um volume para persistir os dados do banco de dados.</li>
<li>N√£o exp√µe nenhuma porta, pois o container da aplica√ß√£o se conecta ao banco de dados atrav√©s do nome do servi√ßo (db), diretamente na rede interna do Docker Compose.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>N√£o se preocupe em entender todos os detalhes do Docker Compose agora, vamos ver na pr√°tica mais adiante.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclus√£o">Conclus√£o<a href="#conclus√£o" class="hash-link" aria-label="Link direto para Conclus√£o" title="Link direto para Conclus√£o" translate="no">‚Äã</a></h3>
<p>Por hora √© isso, j√° √© uma boa base para come√ßarmos a pr√°tica. Conforme formos avan√ßando, vamos aprendendo mais conceitos e funcionalidades do Docker, mas o importante √© come√ßar a praticar para entender melhor como Docker funciona na pr√°tica.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" src="https://media.giphy.com/media/XreQmk7ETCak0/giphy.gif" alt="Nice" class="img_ev3q"><br>
<!-- -->Nice! üëç</p></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="instala√ß√£o">Instala√ß√£o<a href="#instala√ß√£o" class="hash-link" aria-label="Link direto para Instala√ß√£o" title="Link direto para Instala√ß√£o" translate="no">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>Esse tutorial foi feito utilizando o Docker CLI (Command Line Interface) e vamos utilizar um <a href="#play-with-docker">ambiente online</a> para praticar, ent√£o n√£o √© obrigat√≥rio ter o Docker instalado no seu computador, se quiser pular essa parte, pode ir direto para os <a href="#principais-comandos">principais comandos</a>.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Windows</div><div class="admonitionContent_BuS1"><p>Se voc√™ estiver utilizando Windows, recomenda-se utilizar o <a href="https://learn.microsoft.com/pt-br/windows/wsl/install" target="_blank" rel="noopener noreferrer">Windows Subsystem for Linux (WSL)</a> para instalar o Docker, assim voc√™ ter√° um ambiente Linux completo no seu Windows, facilitando o uso do Docker e outras ferramentas de desenvolvimento. Isso tamb√©m √© v√°lido neste tutorial, pois os comandos mostrados s√£o para Linux.
No geral, n√£o deve haver problemas, mas fica o aviso.</p></div></div>
<p>N√£o vou entrar em detalhes sobre a instala√ß√£o do Docker, pois a pr√≥pria <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">documenta√ß√£o oficial</a> √© bem completa e f√°cil de seguir. Ent√£o, siga os passos de acordo com seu sistema operacional ou pesquisa no Google/YouTube que voc√™ vai encontrar v√°rios tutoriais sobre a instala√ß√£o do Docker para seu sistema operacional.</p>
<p>Um ponto importante √© que existem dois tipos de instala√ß√£o do Docker:</p>
<ul>
<li><strong>Docker Desktop</strong>: √â um programa com interface gr√°fica que facilita o uso do Docker no seu computador. Ele instala tudo o que voc√™ precisa para rodar containers (Docker Engine, Docker CLI e Docker Compose) em um √∫nico pacote, al√©m de oferecer recursos extras para gerenciamento e configura√ß√£o.</li>
<li><strong>Docker Engine</strong>: √â o componente principal do Docker, respons√°vel por criar e executar containers. Ele √© instalado e utilizado via linha de comando, sem interface gr√°fica. Ideal para servidores, ambientes de produ√ß√£o ou para quem prefere trabalhar diretamente no terminal.</li>
</ul>
<p>Voc√™ pode escolher qual instalar de acordo com sua prefer√™ncia, num primeiro momento √© recomendado utilizar o Docker Desktop, mas depois de aprender os principais comandos do Docker, √© recomendado utilizar o Docker CLI para se acostumar com a linha de comando. At√© porque a maioria dos tutoriais e documenta√ß√µes utilizam o Docker CLI. Vale notar que o Docker Desktop √© gratuito para uso pessoal, educacional e de pequenas empresas, mas para empresas maiores, √© necess√°rio adquirir uma licen√ßa paga.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" src="https://media.giphy.com/media/6OrCT1jVbonHG/giphy.gif" alt="Container" class="img_ev3q"><br>
<!-- -->N√£o precisa ter medo do terminal, ele √© seu amigo!</p></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="principais-comandos">Principais comandos<a href="#principais-comandos" class="hash-link" aria-label="Link direto para Principais comandos" title="Link direto para Principais comandos" translate="no">‚Äã</a></h2>
<p>Aqui √© um guia r√°pido com os principais comandos do Docker e do Docker Compose. Voc√™ n√£o precisa decorar todos os comandos, mas √© importante conhecer os principais para come√ßar a utilizar o Docker no dia a dia.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-1">Docker<a href="#docker-1" class="hash-link" aria-label="Link direto para Docker" title="Link direto para Docker" translate="no">‚Äã</a></h3>
<p>Voc√™ no dia a dia vai utilizar v√°rios comandos do Docker, mas vou listar os principais comandos para voc√™ come√ßar a utilizar o Docker.</p>
<ul>
<li><code>docker version</code>: Mostra a vers√£o do Docker instalada no host.</li>
<li><code>docker info</code>: Mostra informa√ß√µes sobre o Docker instalado no host.</li>
<li><code>docker run</code>: Cria e executa um container a partir de uma imagem.</li>
<li><code>docker ps</code>: Lista os containers em execu√ß√£o.</li>
<li><code>docker ps -a</code>: Lista todos os containers, incluindo os que est√£o parados.</li>
<li><code>docker images</code>: Lista as imagens no host.</li>
<li><code>docker image ls</code>: Lista as imagens no host. (Mesmo que <code>docker images</code>)</li>
<li><code>docker build</code>: Cria uma imagem a partir de um Dockerfile.</li>
<li><code>docker pull</code>: Baixa uma imagem do Docker Hub.</li>
<li><code>docker push</code>: Envia uma imagem para o Docker Hub.</li>
<li><code>docker exec</code>: Executa um comando em um container em execu√ß√£o.</li>
<li><code>docker stop</code>: Para um container em execu√ß√£o.</li>
<li><code>docker start</code>: Inicia um container parado.</li>
<li><code>docker restart</code>: Reinicia um container em execu√ß√£o.</li>
<li><code>docker rm</code>: Remove um container.</li>
<li><code>docker rmi</code>: Remove uma imagem.</li>
<li><code>docker volume ls</code>: Lista os volumes no host.</li>
<li><code>docker volume create</code>: Cria um volume.</li>
<li><code>docker volume rm</code>: Remove um volume.</li>
</ul>
<p>A lista completa de comandos do Docker est√° dispon√≠vel na <a href="https://docs.docker.com/reference/cli/docker/" target="_blank" rel="noopener noreferrer">documenta√ß√£o oficial</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-compose-1">Docker Compose<a href="#docker-compose-1" class="hash-link" aria-label="Link direto para Docker Compose" title="Link direto para Docker Compose" translate="no">‚Äã</a></h3>
<p>Atualmente o Docker Compose est√° na vers√£o 2. Mas pode ser que voc√™ esbarre em algum momento com a vers√£o 1. A sintaxe dos comandos √© a mesma, mas a forma de chamar o comando √© diferente. Na vers√£o 1, o comando era <code>docker-compose</code>, com um h√≠fen. J√° na vers√£o 2, o comando √© <code>docker compose</code>, sem h√≠fen. Ent√£o, se voc√™ estiver utilizando a vers√£o 1, basta substituir o espa√ßo por um h√≠fen. Observe como est√° seu ambiente e adeque os comandos conforme a vers√£o instalada.</p>
<p>O Docker Compose tem seus pr√≥prios comandos, mas os principais s√£o:</p>
<ul>
<li><code>docker compose version</code>: Mostra a vers√£o do Docker Compose instalada no host.</li>
<li><code>docker compose up</code>: Cria e inicia os containers definidos no arquivo <code>compose.yaml</code>.</li>
<li><code>docker compose down</code>: Para e remove os containers definidos no arquivo <code>compose.yaml</code>.</li>
<li><code>docker compose restart</code>: Reinicia os containers definidos no arquivo <code>compose.yaml</code>.</li>
<li><code>docker compose stop</code>: Para os containers definidos no arquivo <code>compose.yaml</code>.</li>
</ul>
<p>A lista completa de comandos do Docker Compose est√° dispon√≠vel na <a href="https://docs.docker.com/compose/reference/" target="_blank" rel="noopener noreferrer">documenta√ß√£o oficial</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pr√°tica-1">Pr√°tica 1<a href="#pr√°tica-1" class="hash-link" aria-label="Link direto para Pr√°tica 1" title="Link direto para Pr√°tica 1" translate="no">‚Äã</a></h2>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" src="https://media.giphy.com/media/anSiSGG5YaXeBn5gv4/giphy.gif" alt="Container" class="img_ev3q"><br>
<!-- -->Respira fundo, que agora vamos para a pr√°tica!</p></div>
<p>Agora que vimos alguns conceitos do Docker, vamos ver como isso funciona na pr√°tica. Assim voc√™ vai entender melhor como Docker pode te ajudar no dia a dia.</p>
<p>Como dito anteriormente, voc√™ n√£o precisa ter o Docker instalado no seu computador para praticar, mas √© recomendado que voc√™ tenha o Docker instalado para facilitar o uso do Docker no dia a dia. Vamos utilizar o ambiente online <a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer">Play with Docker</a> para praticar. Ele √© um ambiente Docker online gratuito e tempor√°rio, √≥timo para testar o Docker sem precisar instalar nada no seu computador.</p>
<p>Cada atividade vai ser um exemplo, incrementando o conhecimento anterior, ent√£o siga o passo a passo para entender melhor como Docker funciona na pr√°tica.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="play-with-docker">Play with Docker<a href="#play-with-docker" class="hash-link" aria-label="Link direto para Play with Docker" title="Link direto para Play with Docker" translate="no">‚Äã</a></h3>
<ol>
<li>Acesse o site <a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer">Play with Docker</a>.</li>
</ol>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Login" src="/assets/images/pwd-1-dab4883b3e17a57aa23d57d0d7718be1.png" width="706" height="649" class="img_ev3q"></p></div>
<ol start="2">
<li>Clique em &quot;Login&quot; para iniciar uma nova sess√£o.</li>
</ol>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Login" src="/assets/images/pwd-2-da246132e5b77e5a85493ac99134760c.png" width="415" height="716" class="img_ev3q"><br>
<!-- -->Selecione a op√ß√£o de login de sua prefer√™ncia.</p></div>
<ol start="3">
<li>Ap√≥s o login, clique em &quot;Start&quot; para iniciar uma nova sess√£o.</li>
</ol>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Start" src="/assets/images/pwd-3-0a2f5e392e6cd0639cd51db12f19c28c.png" width="706" height="667" class="img_ev3q"><br>
<!-- -->Let&#x27;s go!</p></div>
<ol start="4">
<li>Essa √© a tela principal do Play with Docker. Clique em &quot;Add New Instance&quot; para criar uma nova inst√¢ncia.</li>
</ol>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Add New Instance" src="/assets/images/pwd-4-9ba9326eecf9da45f125bd27b42076fc.png" width="1067" height="315" class="img_ev3q"></p></div>
<ol start="5">
<li>Agora voc√™ tem uma inst√¢ncia com o Docker instalado, e pode come√ßar a praticar os comandos do Docker.</li>
</ol>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Instance" src="/assets/images/pwd-5-20999a06ea60dd1ff798282724be343d.png" width="1046" height="553" class="img_ev3q"></p></div>
<p>Campos importantes na tela:</p>
<ul>
<li><strong>IP</strong>: Endere√ßo IP local da inst√¢ncia. Utilizado caso queira comunicar m√∫ltiplas inst√¢ncias no ambiente PWD.</li>
<li><strong>Open Port</strong>: Abre uma porta espec√≠fica da inst√¢ncia para acesso externo. √ötil para acessar remotamente. Ao clicar, um link √© gerado, utilize esse link para acessar a porta aberta.</li>
<li><strong>SSH</strong>: O comando SSH para acessar a inst√¢ncia via terminal local, a√≠ voc√™ n√£o depende do terminal web.</li>
<li><strong>Editor</strong>: Abre uma interface web para navegar nos diret√≥rios e arquivos da inst√¢ncia e editar arquivos, √∫til para quem n√£o est√° acostumado com o terminal.</li>
<li><strong>Terminal</strong>: O terminal web da inst√¢ncia, onde voc√™ pode executar os comandos do Docker.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dica-1---comandos-do-terminal-web">Dica 1 - Comandos do terminal web<a href="#dica-1---comandos-do-terminal-web" class="hash-link" aria-label="Link direto para Dica 1 - Comandos do terminal web" title="Link direto para Dica 1 - Comandos do terminal web" translate="no">‚Äã</a></h4>
<ul>
<li><strong>Copiar/Colar</strong>: Para copiar/colar no terminal web, utilize o atalho <code>Ctrl + Shift + V</code> para colar, e <code>Ctrl + Shift + C</code> para copiar. O atalho padr√£o <code>Ctrl + V</code> n√£o funciona no terminal web.</li>
<li><strong>Limpar tela</strong>: Para limpar a tela do terminal web, utilize o comando <code>clear</code> ou o atalho <code>Ctrl + L</code>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dica-2---manipular-arquivos">Dica 2 - Manipular arquivos<a href="#dica-2---manipular-arquivos" class="hash-link" aria-label="Link direto para Dica 2 - Manipular arquivos" title="Link direto para Dica 2 - Manipular arquivos" translate="no">‚Äã</a></h4>
<p>Se voc√™ n√£o conhece bem linux e n√£o est√° acostumado a utilizar o terminal, fique tranquilo, tem uma outra maneira de criar e editar arquivos no Play with Docker.</p>
<p>Para criar um arquivo, voc√™ pode criar o arquivo no seu computador e depois fazer o upload. Para fazer o upload, voc√™ pode <strong>arrastar e soltar</strong> o arquivo na √°rea do terminal web(parte preta), dessa forma o arquivo √© criado com o mesmo nome do arquivo que voc√™ est√° enviando.</p>
<p>Se voc√™ precisar editar, pode utilizar o bot√£o <strong>Editor</strong>, que abre uma interface web para navegar nos diret√≥rios e arquivos da inst√¢ncia e editar arquivos direto pela interface web, sem precisar utilizar o terminal.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="dica-3---manipular-arquivos---comandos-linux">Dica 3 - Manipular arquivos - Comandos linux<a href="#dica-3---manipular-arquivos---comandos-linux" class="hash-link" aria-label="Link direto para Dica 3 - Manipular arquivos - Comandos linux" title="Link direto para Dica 3 - Manipular arquivos - Comandos linux" translate="no">‚Äã</a></h4>
<p>Para quem quer s√≥ utilizar o terminal web, segue alguns comandos linux b√°sicos:</p>
<ul>
<li>
<p><code>ls</code>: Lista os arquivos e diret√≥rios do diret√≥rio atual.</p>
</li>
<li>
<p><code>cd &lt;diret√≥rio&gt;</code>: Muda para o diret√≥rio especificado.</p>
</li>
<li>
<p><code>cd ..</code>: Volta para o diret√≥rio anterior.</p>
</li>
<li>
<p><code>cd ~</code>: Vai para o diret√≥rio home do usu√°rio.</p>
</li>
<li>
<p><code>cd /tmp/pasta</code>: Vai para o diret√≥rio especificado (Ex: /tmp/pasta).</p>
</li>
<li>
<p><code>pwd</code>: Mostra o caminho do diret√≥rio atual.</p>
</li>
<li>
<p><code>mkdir &lt;diret√≥rio&gt;</code>: Cria um diret√≥rio com o nome especificado.</p>
</li>
<li>
<p><code>cat &lt;arquivo&gt;</code>: Mostra o conte√∫do do arquivo especificado.</p>
</li>
<li>
<p><code>nano &lt;arquivo&gt;</code>: Abre o editor de texto nano para editar o arquivo especificado. Esse editor tem alguns atalhos na barra inferior, como <code>Ctrl + O</code> para salvar, <code>Ctrl + X</code> para sair, etc.</p>
</li>
<li>
<p><code>touch &lt;arquivo&gt;</code>: Cria um arquivo vazio com o nome especificado.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11---hello-world">1.1 - Hello World<a href="#11---hello-world" class="hash-link" aria-label="Link direto para 1.1 - Hello World" title="Link direto para 1.1 - Hello World" translate="no">‚Äã</a></h3>
<p>Vamos come√ßar com o famoso &quot;Hello World&quot; do Docker, que √© criar e executar um container com a imagem <code>hello-world</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># docker run &lt;imagem&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run hello-world</span><br></span></code></pre></div></div>
<p>Se tudo estiver configurado corretamente, voc√™ pode notar as seguintes mensagens:</p>
<ul>
<li><code>Unable to find image &#x27;hello-world:latest&#x27; locally</code>: O Docker n√£o encontrou a imagem <code>hello-world:latest</code> no host.</li>
<li><code>latest: Pulling from library/hello-world</code>: O Docker est√° baixando a imagem <code>hello-world:latest</code> do Docker Hub, isso √© feito automaticamente toda vez que voc√™ executa um container com uma imagem que n√£o existe no host.</li>
<li><code>Digest: sha256:4cf9c47f86...</code>: O Docker baixou a imagem <code>hello-world:latest</code> do Docker Hub, e essa √© a hash da imagem, pode ser que voc√™ tenha uma hash diferente, pois a imagem pode ser atualizada, mas √© o identificador √∫nico da imagem.</li>
<li><code>Status: Downloaded newer image for hello-world:latest</code>: O Docker baixou a imagem <code>hello-world:latest</code> do Docker Hub com sucesso.</li>
</ul>
<p>Todas essas mensagens s√£o logs do Docker, que s√£o exibidos quando voc√™ executa um container. Esses logs s√£o √∫teis para entender o que o Docker est√° fazendo, e para debugar problemas.</p>
<p>Ap√≥s essa mensagem, voc√™ vai ver uma mensagem de boas-vindas do Docker, que √© exibida pelo container <code>hello-world</code>. Essa mensagem √© exibida pelo container e n√£o pelo Docker, ent√£o o Docker n√£o tem controle sobre o que √© exibido, ele s√≥ executa o container e exibe os logs.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.1-5138c6090b842046057c4fe75e8fda6c.png" width="733" height="514" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>hello-world</code>.</p></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como baixar uma imagem do Docker Hub. (Ex: <code>hello-world:latest</code>)</li>
<li>Como criar e executar um container com uma imagem. (Ex: <code>docker run hello-world</code>)</li>
<li>Como interpretar os logs do Docker ao rodar um container. (Ex: <code>Unable to find image</code>, <code>Pulling from</code>, <code>Digest</code>, <code>Status</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12---ubuntu">1.2 - Ubuntu<a href="#12---ubuntu" class="hash-link" aria-label="Link direto para 1.2 - Ubuntu" title="Link direto para 1.2 - Ubuntu" translate="no">‚Äã</a></h3>
<p>Agora vamos criar e executar um container com a imagem <code>ubuntu</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> ubuntu </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/lsb-release</span><br></span></code></pre></div></div>
<p>Ao rodar o comando acima, ele vai fazer o mesmo que o comando do <a href="#11---hello-world">Hello World</a>, mas ao inv√©s de exibir uma mensagem de boas-vindas, ele vai exibir as informa√ß√µes da distribui√ß√£o Ubuntu, por meio do comando <code>cat /etc/lsb-release</code>. Hoje a vers√£o <code>ubuntu:latest</code> √© a vers√£o 24.04.1 LTS, mas pode ser que voc√™ tenha uma vers√£o diferente, pois a imagem pode ser atualizada.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.2-1-970c423336e4c01de1cb7ddefc147025.png" width="739" height="206" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>ubuntu:latest</code>.</p></div>
<p>Voc√™ pode explorar outras vers√µes dessa imagem, como <code>ubuntu:20.04</code> ou <code>ubuntu:18.04</code>, basta substituir a tag <code>latest</code> pela vers√£o desejada.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Ubuntu 20.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> ubuntu:20.04 </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/lsb-release</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Ubuntu 18.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> ubuntu:18.04 </span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/lsb-release</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.2-2-6283d0a1ab1083fbfa1594ae3431a869.png" width="510" height="228" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>ubuntu:latest</code> e as outras vers√µes do Ubuntu.</p></div>
<p>Nesse exemplo, o comando <code>-it</code> (ou <code>-i -t</code> ou <code>-ti</code>) √© utilizado para interagir com o container, ou seja, ele abre um terminal interativo no container. O comando <code>cat /etc/lsb-release</code> √© utilizado para exibir as informa√ß√µes da distribui√ß√£o Ubuntu. Ent√£o ao iniciar o terminal interativo, o comando <code>cat /etc/lsb-release</code> √© executado automaticamente, e depois o container √© finalizado, pois o comando foi finalizado.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como utilizar tags para baixar vers√µes espec√≠ficas de imagens. (Ex: <code>ubuntu:20.04</code>)</li>
<li>Como executar um comando em um container. (Ex: <code>cat /etc/lsb-release</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13---docker-ps">1.3 - <code>docker ps</code><a href="#13---docker-ps" class="hash-link" aria-label="Link direto para 13---docker-ps" title="Link direto para 13---docker-ps" translate="no">‚Äã</a></h3>
<p>Agora vamos ver como listar os containers em execu√ß√£o e os containers parados.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Lista os containers em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Lista todos os containers, incluindo os parados</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-a</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.3-08e4cf995c1ed08ab324139bbc4f1f0a.png" width="1165" height="189" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>ubuntu:latest</code>.</p></div>
<p>√â bem prov√°vel que voc√™ n√£o tenha nenhum container em execu√ß√£o ou parado, ent√£o a lista vai estar vazia. Mas rodando o comando com o par√¢metro <code>-a</code>, voc√™ vai ver todos os containers que foram executados no host, incluindo os que est√£o parados.</p>
<p>Voc√™ pode notar que o <code>CONTAINER ID</code> e o <code>NAMES</code> s√£o identificadores √∫nicos do container, que s√£o gerados pelo Docker. Esses identificadores podem ser utilizados em outros comandos do Docker para referenciar o container, como <code>docker stop</code>, <code>docker start</code>, <code>docker restart</code>, <code>docker rm</code>, etc.</p>
<p>Al√©m do nome, voc√™ pode ver o <code>IMAGE</code>, que √© a imagem utilizada para criar o container, o <code>COMMAND</code>, que √© o comando de execu√ß√£o do container, o <code>CREATED</code>, que √© a data de cria√ß√£o do container, o <code>STATUS</code>, que √© o status do container, o <code>PORTS</code>, que s√£o as portas expostas pelo container.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como listar os containers em execu√ß√£o. (Ex: <code>docker ps</code>)</li>
<li>Como listar todos os containers, incluindo os parados. (Ex: <code>docker ps -a</code>)</li>
<li>Como interpretar a lista de containers. (Ex: <code>CONTAINER ID</code>, <code>NAMES</code>, <code>IMAGE</code>, <code>COMMAND</code>, <code>CREATED</code>, <code>STATUS</code>, <code>PORTS</code>)</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Dica</div><div class="admonitionContent_BuS1"><p>Voc√™ n√£o precisa passar o <code>CONTAINER ID</code> inteiro para referenciar o container, basta passar os primeiros caracteres, que sejam √∫nicos dentre os demais containers.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="14---docker-exec">1.4 - <code>docker exec</code><a href="#14---docker-exec" class="hash-link" aria-label="Link direto para 14---docker-exec" title="Link direto para 14---docker-exec" translate="no">‚Äã</a></h3>
<p>Agora vamos ver como executar um comando em um container em execu√ß√£o.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Inicia um container em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;meu-container-ubuntu&quot;</span><span class="token plain"> ubuntu:latest </span><span class="token function" style="color:#d73a49">sleep</span><span class="token plain"> infinity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Executa um comando no container em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> meu-container-ubuntu </span><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-la</span><span class="token plain"> /</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.4-08e4cf995c1ed08ab324139bbc4f1f0a.png" width="1165" height="189" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>ubuntu:latest</code>.</p></div>
<p>Nesse exemplo, o comando <code>docker run</code> √© utilizado para criar e executar um container com a imagem <code>ubuntu:latest</code>, e o comando <code>sleep infinity</code> √© utilizado para manter o container em execu√ß√£o, pois se n√£o tiver um processo rodando, o container √© encerrado. O par√¢metro <code>--rm</code> √© utilizado para remover o container quando ele for finalizado, o par√¢metro <code>-d</code> √© utilizado para executar o container em segundo plano, e o par√¢metro <code>--name</code> √© utilizado para dar um nome ao container. O nome √© opcional, mas √© uma boa pr√°tica dar um nome ao container para facilitar a refer√™ncia.</p>
<p>Depois que o container estiver em execu√ß√£o, o comando <code>docker exec</code> √© utilizado para executar o comando <code>ls -la /</code> no container <code>meu-container-ubuntu</code>. Esse comando vai listar todos os arquivos e diret√≥rios do diret√≥rio raiz do container (<code>/</code>).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como iniciar um container. (Ex: <code>docker run --rm -d --name &quot;meu-container-ubuntu&quot; ubuntu:latest sleep infinity</code>)</li>
<li>Como atribuir um nome ao container. (Ex: <code>--name &quot;meu-container-ubuntu&quot;</code>)</li>
<li>Como apagar o container automaticamente quando ele for finalizado. (Ex: <code>--rm</code>). √ötil para n√£o deixar containers parados ocupando espa√ßo.</li>
<li>Como executar um container em segundo plano. (Ex: <code>-d</code>). Assim seu terminal n√£o fica preso no container e voc√™ pode continuar utilizando o terminal.</li>
<li>Como executar um comando no container em execu√ß√£o. (Ex: <code>docker exec meu-container-ubuntu ls -la /</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="15---gerenciando-estados">1.5 - Gerenciando estados<a href="#15---gerenciando-estados" class="hash-link" aria-label="Link direto para 1.5 - Gerenciando estados" title="Link direto para 1.5 - Gerenciando estados" translate="no">‚Äã</a></h3>
<p>Agora vamos ver como parar, iniciar, reiniciar e remover um container. No exemplo anterior, o container <code>meu-container-ubuntu</code> est√° em execu√ß√£o, ent√£o vamos parar ele.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Para um container em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> stop meu-container-ubuntu</span><br></span></code></pre></div></div>
<p>O comando <code>docker stop</code> √© utilizado para parar um container em execu√ß√£o. O par√¢metro <code>meu-container-ubuntu</code> √© o nome do container que voc√™ quer parar. Voc√™ pode utilizar o <code>CONTAINER ID</code> ou o <code>NAMES</code> para referenciar o container. Vale lembrar que na atividade <a href="#14---docker-exec">4</a>, o container foi iniciado com o par√¢metro <code>--rm</code>, ent√£o ele vai ser removido automaticamente quando for parado. Ent√£o ele n√£o vai aparecer na lista de containers parados. (Ex: <code>docker ps -a</code>)</p>
<p>Vamos ent√£o criar um novo container para ver como iniciar, reiniciar e remover um container.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;container-teste&quot;</span><span class="token plain"> alpine </span><span class="token function" style="color:#d73a49">sleep</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre></div></div>
<p>O comando acima vai criar e executar um container com a imagem <code>alpine</code>, que √© uma imagem leve do Linux. O comando <code>sleep 10</code> √© utilizado para manter o container em execu√ß√£o por 10 segundos. O par√¢metro <code>-d</code> √© utilizado para executar o container em segundo plano, e o par√¢metro <code>--name</code> √© utilizado para dar um nome ao container.</p>
<p>Depois que passar os 10 segundos, o container vai finalizar automaticamente, voc√™ pode iniciar, reiniciar e remover o container manualmente.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Inicia um container parado</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> start container-teste</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Reinicia um container em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> restart container-teste</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Remove um container parado</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> container-teste</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.5-0968ed2f7e5b1ce5c0544337228bb39e.png" width="1313" height="510" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>alpine</code>.</p></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como parar um container em execu√ß√£o. (Ex: <code>docker stop meu-container-ubuntu</code>)</li>
<li>Como iniciar um container parado. (Ex: <code>docker start container-teste</code>)</li>
<li>Como reiniciar um container em execu√ß√£o. (Ex: <code>docker restart container-teste</code>)</li>
<li>Como remover um container parado. (Ex: <code>docker rm container-teste</code>). Na imagem acima, enquanto o container estava em execu√ß√£o, ele n√£o podia ser removido, ent√£o foi aguardado o container finalizar para depois ser removido, mas poderia ser passado o par√¢metro <code>-f</code> para for√ßar a remo√ß√£o do container, mesmo que ele esteja em execu√ß√£o. (Ex: <code>docker rm -f container-teste</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="16---acessando-o-container">1.6 - Acessando o container<a href="#16---acessando-o-container" class="hash-link" aria-label="Link direto para 1.6 - Acessando o container" title="Link direto para 1.6 - Acessando o container" translate="no">‚Äã</a></h3>
<p>Agora vamos ver como acessar um container em execu√ß√£o.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Inicia um container em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;container-nginx&quot;</span><span class="token plain"> nginx</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Acessa o terminal interativo do container em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> container-nginx </span><span class="token function" style="color:#d73a49">bash</span><br></span></code></pre></div></div>
<p>O comando acima vai criar e executar um container com a imagem <code>nginx</code>, que √© um servidor web. O par√¢metro <code>-d</code> √© utilizado para executar o container em segundo plano, e o par√¢metro <code>--name</code> √© utilizado para dar um nome ao container.</p>
<p>Depois que o container estiver em execu√ß√£o, o comando <code>docker exec</code> √© utilizado para acessar o terminal interativo do container <code>container-nginx</code>. O par√¢metro <code>-it</code> √© utilizado para interagir com o container, e o comando <code>bash</code> √© utilizado para abrir o terminal do container.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-1.6-1ef8e1723b077a9996b26ddd7f6ea0a0.png" width="742" height="310" class="img_ev3q"><br>
<!-- -->Log do Docker ao rodar o container <code>nginx</code>.</p></div>
<p>D√° para notar que o terminal mudou, dentro do nginx, o prompt mudou para <code>root@&lt;container-id&gt;:/#</code>, isso significa que voc√™ est√° dentro do container <code>container-nginx</code>. Voc√™ pode executar comandos no terminal do container, como <code>ls</code>, <code>pwd</code>, <code>cat</code>, <code>ps</code>, etc. Voc√™ pode explorar o container, instalar pacotes, editar arquivos, etc. Mas lembre-se que o container √© ef√™mero, ent√£o os dados s√£o perdidos quando o container √© finalizado.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como acessar o terminal interativo de um container em execu√ß√£o. (Ex: <code>docker exec -it container-nginx bash</code>)</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>No exemplo acima, o comando <code>bash</code> √© utilizado para abrir o terminal do container, mas nem todas as imagens possuem o <code>bash</code> instalado. Nesse caso, voc√™ pode utilizar o <code>sh</code>, que √© um shell mais simples e est√° presente na maioria das imagens (Ex: <code>docker exec -it container-nginx sh</code>), mas mesmo assim, pode ser que voc√™ esbarre com imagens nas quais n√£o d√™ para interagir ‚Äî tudo isso por motivos de seguran√ßa e otimiza√ß√£o.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pr√°tica-2">Pr√°tica 2<a href="#pr√°tica-2" class="hash-link" aria-label="Link direto para Pr√°tica 2" title="Link direto para Pr√°tica 2" translate="no">‚Äã</a></h2>
<p>Se chegou at√© aqui, parab√©ns! Voc√™ j√° aprendeu o b√°sico do Docker, agora vamos ver como criar uma imagem com um Dockerfile. Assim voc√™ vai entender melhor como Docker pode te ajudar no dia a dia.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21---dockerfile">2.1 - Dockerfile<a href="#21---dockerfile" class="hash-link" aria-label="Link direto para 2.1 - Dockerfile" title="Link direto para 2.1 - Dockerfile" translate="no">‚Äã</a></h3>
<p>Vamos criar um arquivo html simples e um Dockerfile para criar uma imagem com um servidor web.</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">index.html</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Dockerfile</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">index.html</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">utf-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Meu Site</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Ol√° Mundo!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-Dockerfile language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">Dockerfile</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Define a imagem base</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> nginx:latest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copia os arquivos do host para o container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">COPY</span><span class="token instruction"> </span><span class="token instruction options property" style="color:#36acaa">--chown</span><span class="token instruction options punctuation" style="color:#393A34">=</span><span class="token instruction options string" style="color:#e3116c">nginx:nginx</span><span class="token instruction"> index.html /usr/share/nginx/html/index.html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># --chown=nginx:nginx define o usu√°rio e grupo do arquivo copiado no container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Exp√µe a porta 80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">EXPOSE</span><span class="token instruction"> 80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o comando de execu√ß√£o quando o container for iniciado</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">&quot;nginx&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;-g&quot;</span><span class="token instruction">, </span><span class="token instruction string" style="color:#e3116c">&quot;daemon off;&quot;</span><span class="token instruction">]</span><br></span></code></pre></div></div></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Lembre da dica 2 da se√ß√£o <a href="#dica-2---manipular-arquivos">manipular arquivos</a> para criar/editar os arquivos no Play with Docker.</p></div></div>
<p>Com os arquivos criados, vamos criar a imagem com o comando <code>docker build</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> minhas_primeira_imagem </span><span class="token builtin class-name">.</span><br></span></code></pre></div></div>
<p>O comando <code>docker build</code> √© utilizado para criar uma imagem a partir de um Dockerfile. O par√¢metro <code>-t</code> √© utilizado para dar um nome √† imagem, e o ponto (<code>.</code>) √© utilizado para informar o diret√≥rio onde est√° o Dockerfile. Nesse caso, o Dockerfile est√° no diret√≥rio atual.</p>
<p>Depois que a imagem for criada, voc√™ pode listar as imagens no host com o comando <code>docker images</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> images</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-2.1-39f8eb1ce9406e3b26bf34203a9143af.png" width="940" height="381" class="img_ev3q"><br>
<!-- -->Resultado dos comandos <code>docker build</code> e <code>docker images</code>.</p></div>
<p>Nesse exemplo, o Dockerfile √© utilizado para criar uma imagem com o servidor web Nginx. O comando <code>FROM</code> √© utilizado para definir a imagem base, que √© a imagem <code>nginx:latest</code>. O comando <code>COPY</code> √© utilizado para copiar o arquivo <code>index.html</code> do host para o diret√≥rio <code>/usr/share/nginx/html/index.html</code> do container. O comando <code>EXPOSE</code> √© utilizado para indicar a porta 80 como um porta que pode ser publicada. O comando <code>CMD</code> √© utilizado para definir o comando de execu√ß√£o do container, que √© <code>nginx -g &#x27;daemon off;&#x27;</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como criar um Dockerfile.</li>
<li>Como construir uma imagem a partir de um Dockerfile. (Ex: <code>docker build -t minhas_primeira_imagem .</code>)</li>
<li>Como listar as imagens dispon√≠veis no host. (Ex: <code>docker images</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22---executando-a-imagem-criada">2.2 - Executando a imagem criada<a href="#22---executando-a-imagem-criada" class="hash-link" aria-label="Link direto para 2.2 - Executando a imagem criada" title="Link direto para 2.2 - Executando a imagem criada" translate="no">‚Äã</a></h3>
<p>Agora que a imagem foi criada na atividade <a href="#21---dockerfile">2.1</a>, vamos criar e executar um container a partir dessa imagem.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> meu_site minhas_primeira_imagem</span><br></span></code></pre></div></div>
<p>O comando <code>docker run</code> √© utilizado para criar e executar um container a partir de uma imagem. O par√¢metro <code>--rm</code> √© utilizado para remover o container automaticamente ap√≥s a sua parada, o par√¢metro <code>-p</code> √© utilizado para mapear a porta 80 do container para a porta 8080 do host, o par√¢metro <code>--name</code> √© utilizado para dar um nome ao container, e o par√¢metro <code>minhas_primeira_imagem</code> √© o nome da imagem que foi criada na atividade <a href="#21---dockerfile">2.1</a>.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-2.2-1-398bbbe5231fc7b9ccd37cddc1423775.png" width="895" height="460" class="img_ev3q"><br>
<!-- -->Resultado do comando <code>docker run</code>.</p></div>
<p>Agora vamos acessar nossa p√°gina web, no Play with Docker, clique no bot√£o <strong>Open Port</strong> da inst√¢ncia onde o container est√° em execu√ß√£o, informe a porta <code>8080</code> e clique em <strong>Ok</strong>. Isso vai fazer abrir uma nova aba no navegador com a URL gerada para acessar a porta 8080 do host.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-2.2-2-9fefa83bb4f7b3d4caa02cd335bc5f78.png" width="1264" height="375" class="img_ev3q"><br>
<!-- -->P√°gina web exibida no navegador.</p></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>Pode ser que seu navegador bloqueie a abertura de pop-ups, ent√£o verifique se algo em seu navegador possa estar bloqueando a abertura da nova aba.</p></div></div>
<p>Caso voc√™ esteja rodando o Docker localmente, basta acessar a URL <code>http://localhost:8080</code> no seu navegador.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-2.2-3-a426229c36b5781a06a2dbda64b3b73d.png" width="1302" height="635" class="img_ev3q"><br>
<!-- -->P√°gina web exibida no navegador.</p></div>
<p>Por termos subido o container sem o par√¢metro <code>-d</code>, o log do container √© exibido no terminal, ent√£o cada solicita√ß√£o feita, vai aparecer o registro do Nginx. Al√©m disso, o terminal fica preso no container, ent√£o para parar o container, voc√™ pode utilizar o atalho <code>Ctrl + C</code>, esse comando encerra o processo em execu√ß√£o no terminal, que nesse caso √© o container.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como criar e executar um container a partir de uma imagem. (Ex: <code>docker run --rm -p 8080:80 --name meu_site minhas_primeira_imagem</code>)</li>
<li>Como mapear portas do container para o host. (Ex: <code>-p 8080:80</code>)</li>
<li>Como acessar uma aplica√ß√£o web rodando em um container. (Ex: <code>http://localhost:8080</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23---mapeamento-de-volume">2.3 - Mapeamento de volume<a href="#23---mapeamento-de-volume" class="hash-link" aria-label="Link direto para 2.3 - Mapeamento de volume" title="Link direto para 2.3 - Mapeamento de volume" translate="no">‚Äã</a></h3>
<p>Quando colocamos no nosso Dockerfile para copiar o arquivo <code>index.html</code> para o container, esse arquivo fica &quot;preso&quot; dentro do container. Ou seja, se voc√™ quiser alterar o arquivo, precisa criar uma nova imagem com o Dockerfile atualizado, ou acessar o container e editar o arquivo manualmente. Mas existe uma forma mais f√°cil de fazer isso, que √© utilizando o mapeamento de volume.</p>
<p>Como vimos no <a href="#volume">in√≠cio</a>, um volume √© uma forma de persistir dados ou compartilhar dados entre o host e o container. Com o mapeamento de volume, voc√™ pode mapear um arquivo ou diret√≥rio do host para o container, assim qualquer altera√ß√£o feita no arquivo ou diret√≥rio do host, √© refletida no container e vice-versa. Para fazer isso, voc√™ pode utilizar a op√ß√£o <code>-v</code> ao executar o container.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>Quando criamos os arquivos <code>index.html</code> e <code>Dockerfile</code>, n√£o configuramos as permiss√µes deles, ent√£o antes de seguir, √© importante ajustar as permiss√µes para evitar problemas de acesso. Execute o comando abaixo para garantir que o usu√°rio do Nginx dentro do container tenha permiss√£o de leitura nos arquivos.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">find</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-type</span><span class="token plain"> d </span><span class="token parameter variable" style="color:#36acaa">-exec</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">755</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> +</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">find</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-type</span><span class="token plain"> f </span><span class="token parameter variable" style="color:#36acaa">-exec</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">644</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> +</span><br></span></code></pre></div></div><p>Os comandos acima ajustam as permiss√µes dos diret√≥rios para <code>755</code> (leitura, escrita e execu√ß√£o para o dono, e leitura e execu√ß√£o para grupo e outros) e dos arquivos para <code>644</code> (leitura e escrita para o dono, e leitura para grupo e outros). Isso garante que o Nginx, que roda como usu√°rio <code>nginx</code>, possa ler os arquivos corretamente.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token parameter variable" style="color:#36acaa">-v</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable builtin class-name" style="color:#36acaa">pwd</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">:/usr/share/nginx/html/ </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> meu_site_com_volume minhas_primeira_imagem</span><br></span></code></pre></div></div>
<p>Agora se voc√™ tentar acessar a p√°gina web novamente, voc√™ vai ver que o conte√∫do √© o mesmo, mas agora qualquer altera√ß√£o feita no arquivo <code>index.html</code> no host, √© refletida no container e vice-versa. Fa√ßa o teste, altere o <code>Ol√° Mundo!</code> para <code>Ol√° Docker!</code> no arquivo <code>index.html</code> no host, e atualize a p√°gina web no navegador, voc√™ vai ver que a altera√ß√£o foi refletida na p√°gina web.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como mapear um volume do host para o container. (Ex: <code>-v $(pwd):/usr/share/nginx/html/</code>)</li>
<li>Como persistir dados entre o host e o container. (Ex: alterando o arquivo <code>index.html</code> no host e refletindo no container)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24---limpando">2.4 - Limpando<a href="#24---limpando" class="hash-link" aria-label="Link direto para 2.4 - Limpando" title="Link direto para 2.4 - Limpando" translate="no">‚Äã</a></h3>
<p>Vamos fazer uma pausa para limpar os containers e imagens criados at√© agora.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Parar e remover todos os containers em execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">docker</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable function" style="color:#d73a49">ps</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable parameter variable" style="color:#36acaa">-aq</span><span class="token variable" style="color:#36acaa">)</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVsAAABJCAIAAAAcxBKeAAAPr0lEQVR4Ae1dO48dxRKeBEgsWVokkHCADIltkdyrjXBkEZHZurkTI0cg3fWRLDJLBARrRyZB4rAO7cSBc59FckbkBM2maH8A5yece6u6ux79mpnd2Ucf1QpxevpRVf1119fVPQ93x8fHnf0ZAoaAIeAQMEawmWAIGAKMgDECY2EpQ8AQMEawOWAIGAKMgDECY2EpQ8AQMEawOWAIGAKMgGKEK9fWN2+6//68wnVOl/rgzXUn89rzUYKu/Ik2xAZ8uPP3KW377tMfj3cfPvNGfP7q1v7xrvuPMkcZOL1STdezL/aPb939brrQ82xx5+WjF+/hv6e/7MR6H93Dont34oLuy18euFYv3kelO/ffeYFJUSJFZpR1Qa1vbz9FI0Hpu9tf+oZS14P730pxtTQbz6Jq9bHsxmMy4H1Wl6/w+NGgqAurkDJC7IpzmPb9x9fXNwcZgbgDGCRvBnJWvmjAzo/u/rW7f/zF11E1cEimiahw5su8rqsPj3f3//r085mVTRcHbp+b/eAbPv/GYznRpQfGPt914L3eK9C7iBTQK4Ii5BoqKhtd19V59kkIC+kg6EIzso4a6xU1UcLLG3GNzLWqKSRwVcwEKjRGGMcIAbqK21eKQuv8b94bu66Un5dyutySrlL+6bRNbl1ghJ3779iL7rzMhAlZr9bSgAW8u4Jvs0C3sI/3kKyushChNwQRI3SBbzO5CGqbgClSmNblqPDB05YZAT355vrmtTewyGPw/5naToQKaZFa8LEtxQi66PrO9xHQFbevFEVC9OXXf+QChK7ICDLO3//jqhQmix4+u/owxPyowm9D9o93f3z1kWwF6aLnY5igtcRt1TUtmO9u36HInNcxXKxC+KonZaGIBIZWYh278dit/6EOu0qwKeulKSO8YAtDy67DtoIguCSfqui6n9naYH8nxwgn4xFlcBojeMszTKEayotPfvj9yavXT179/JXMPeP04K7B+fzfH3+AhsAmP6SdY5Of4/7fu7dMdx26cdg1SAld16GQiBQqbl8pqgFVjswzXhrtL1RbdHve9keXbII+s/D5GV2uJNLIYmopnGGPfGQO8wz9yvkt+R5uvMXi/IjdUhahHhAYnIcVg8B7dzq/XxgfI+CuwYfH3tREuMtPKYa1JylsEu0yAs05+dgvwYO4MgemE/mJaMpADNmq6JKq5ROsTulCIZBDiXxzkXvv5yevfv/mXx3wwq///aT79ze/vn7y039EjTNJjmMEcnt0YBcm4FGf2tKDu15/82GHJAIJ+nv+GQQazztX5A4a5f9VZccgSjIJOg0jZBfh1EtTZ4Y6yAKVIrAQuSOcVmaOJ1JdoV/FECZUyPyib8SrKy5NymGgGrpKpchJp5pKGcxgxwggdgIjdO4oAU8QX96Go0TiKVSA9seZSnXuAlupDnZxoIEE4XU5svD1sW2MWE7JXDECnRcIk8YzgrDsq59eQ7AAvHDmfydnhOD/bGLgCGQEIhEo14yg/Z/bh1TF7StFoXXuV63zqkLqpeT/VI+IgBJURAks4v1Ftmaqyzc/cYyQXXV1JhFB6vBU5MxIK2B+2DXg2gvH+Nqxg0PGXkrIQCJet/2qzuuwql27yDJCuSMn823hwP70YQyPRGYLIcgC4baLv8lygr5HCs7o8uSM4AJ+voMgdgruTiGdOPgbh44jRDXsEpKF5oiK21eKqgAVF+GMl0b+KdkkKvJxARwZKB5x1ZJbGBldzmhUkQ1hKp3KO7CbfOS0cmtQKUI1SiA0dG6gThaz9mS9lGs6KiGTYANSP293fJF3wrwu7Jr3MZnuhFt6YorEFnSp7qebqVwraCJoUZnBYEzYNYhG55msM4I7RAjnguJEMOz80Z9D/E8UAB1Az3eHkdd3noeDSdwLCDlYQR9MBGmhrTp3PCkjJKd6cYSPDyZEBwThmFD7KpJLKDrepbhAnDjeuvsMnn0AmdB2QFdi29D445Lol5qw8oi5GFzOFandbK2o6wqloE4E4SzQUUzYojt1YelzPuOMVE6YM15V6Jwby/sR4TZB6GxumZXGMPtEnYoU/T96zfk24s926pgLC7OtZJfBwgAFDyfSWc54rnLxqTojXLx9kQUnZoQuXd4j0Rd1KWOQi7JhSC9PZeVsQ82svEEEUkaY+5nFmUDxWw+IIPKHjoN6snv7wVZnXUFtN85amck3BIYQUIwwVNnKDQFDYMsRMEbY8gG27hkCkxAwRpgEl1U2BLYcAWOELR9g654hMAkBY4RJcFllQ2DLEdCMsFit++WW97i57tmgNDdkLRvMjLC3Wm/obzovuOZHp+KTxSGYsD5ctIxoxfaFgvigUjMUjRqUZb8pjJcNSgByxt/l0Xq1N6O8SyYqMMJvYladdFHaW61PxwiAzUG/rYywOFxP7Jp09eKgDIi1QZnd4/ZW6/VqW1etzjPC3tsZnNkmX3XyLQ7X/Zi4gISMwlOyBrUUiVFCRP1scntpOtvdocwFUMK2hgkhRuiWR5tp8xVhWx6JjUY0+Q56KttEsYMMho9W6vACJt+SomuxqKqQW+RDWIGK+mXHdYb7UmiF+5a+xx1UfxAERvYPTZm4XELhQBkncHhQDvoY2w6GMvz1y3YGxZnNmMMGUi3FblPputYfrvpT7i7lJNzEHi50IYbamIG4LB7+pq6JETrhTukky/ZpeST2/HrLCoCK4YRL8gFwD973IvR86XYNSjLqjnwjqeBdd5gIVE+yrZZgHyzmlChG7FKY8MPgjwKBrusmxwggPVDSZsMACq3p1FTItDYozg95EA96nkWK2gAWtSoITGSyOijLJYdsKtRS01Vj6IVLw6S+LUgLRuDejJu7y56c3DXlMVusjhS7g3uF8xhKsD6Z4qVb5oJzxn/K30Y5rZSI6WyrZe8lUyklEgFTMsahWpSYba78H5q2PSgpwS0Oe4rPlXur0S+CVi2IJhUtSzQBQus0ENt6Rlis/pGMGy3IAZjo96wmH1gSI54MUmQLrKU0onFZ+TrbinRRKSXKkkaUZF260i5yj+ygRHXOjhHOZ1BSiNIch5haxisgFouiswA5xDQBQmNe6kJOPD9D/hb8uhhhsfpHrsCSHSp91Ks9xrchaogHUmIao7mE0JDOaegQSxNzPPXj8145ohWTo6JsK5oQVEqJqPm0yxiTodYuhKZxyQ+KRknGYii+sUHBLktmp7GAPZdCgObJEIyF8mSboHayHJj4jVuY2E5abExBR5PZetfAAzCuMyru6g/xQJBDbprMG3lwAJLVSRvTgfMBN/AUItI8oByUS/NG7LS9QhZY7kWxVXgog84pKTFGbEGh6i9YSZ0qNJDZ9UFRMxubtTsoeNTiZlEylBE/8vmChGpSWg4KHG/j4aFfmRIMFSNE8cUkrZe+8ukY4dJ3bxsMrDNCsni23OWpYdQ59VVGuF3XxfHpOVlxTmo0I5yTUlMzKwJpmDCr+HMU1gQj6M3yOaJzPqqMEc4HZ9MyiIDYFZ5igzaoZloFsX2Y4e7GNN0XU9sY4WJwN62GwOVEwBjhco6LWWUIXAwCxggXg7tpNQQuJwLGCJdzXMwqQ+BiEDBGuBjcTashcDkREIzAx6r8qok3mp7nSQ+BK61Cj9N3RVyOe9KI3zbRL/ZAKT2GhKK4VWoGVOCHWLLHwqkZwcDkl/rrHpTRZmDtAV2JRMswBNpAwDPC3lt4V5Ef2KI09EI8Ua9vfYOPUU39MHLUe/WMh3zkS6YdI2TcD4VJ+TLtNKEPqwfLIgvwUpmRq+Dz6o8tj9NVEW9FhsClRUDECGyjelBkT7+IXn6eXLViYZiSrijTULhc8YvuRVeMhKeXo54LjlVHVtJl0QwXiYzSRcIsYQg0hECOEfQKHFFA0al0q9p3O1RcAM+lcJCvwvWy4ykJ+C5KKbIofz6E9yDygXY3dBUzamTR0LibqYZAHgHFCP7dD9oIYJNBRsi1Uu/tpxt44Y3rw1X4HkFsoditqKIkH5/8J5nML0AHTCuxGcUPZihlatOEHyBYrxY5XVEruzQEmkRAMYLvgV7tBxkh06ry6YQEpcp7I5l4BFZvdnInDCT0PX0fgV8QrpvBZ6LuiLP4GWlpRlFX0i/LMARaRCDHCPh2F53SSX+ofyuZa9ZdUeFUe9WcBWITXJmT+yD+DoXIpy84VcyYsO+Ad90IDfzMWU6X6pRdGAKtIuAYAb6Yoie9XIeXR7RLV7touANXaKXfDysezoMEEeRrgbCGk+/h3T4yA1+kl7ctOS5QdFY2Q900SYWLfikzYJgLulqdAWa3ISARoBgBvcLdfs+F5b6EXdQJKbdSMbn+mIooYkLxRkmBRAfqA6TDljBxuK+nhhYbZUbtgxni0QbBSoSbMFLqonJLGALNIkCM0GwPzHBDwBCYDwFjhPmwNEmGQPsIGCO0P4bWA0NgPgSMEebD0iQZAu0jYIzQ/hhaDwyB+RAwRpgPS5NkCLSPgDFC+2NoPTAE5kPAGGE+LE2SIdA+AswI9PZO7pmc6vdI1JuC/YF/vEc8X1SGSbx95B77GWgFjxXpF7G8bLIhWxobMEpX6RMsDNQoXbFuuzYELjMCgRHkc/4y7WwvPoZc+l5A9P2CGgLirYFaK/eI4Xq1Cv/GtJQp3oZUjyfLOlG6pguqlros5ct0JN4uDYE2EfCMsPdWvMwTfcUE1nz5mkPU0axrZTOjhv5yJCOExvpVBcwd/U2XIAN+6xYWu6x11YVIdZY2BNpAIBcj4FdG+AUk9XaT6pV8NcC9PBDeU3Cuwv9KD0sDAZy/6ZcJI3CpbuVUZxih8r42R/jxZ1GqFpa73NGLla4j9l6DmhF20TwCgRHwlcHwSpD+iknxeySu89l10m3UObIQ/0J85SsmlVYE9DRG6IqfRanqqnZZ8CB3kOyzhCHQNALMCLIb8ismQ98IKTFC5C2hWuWbBZntSWjFxk1lhD7QHP7ykp7uC1hXpcsSGQh27HCRh8ZS24BAlhG0t8AZm7gFoMLm0oacvSuAtDjs8VvPA4wgFEHL0CpIyTqh2HdAPd5EREekai9QttAfKwpLRJdZuDNvLaqxkZYyBFpFIGUECKejDXz1GyGpazmaULcJxdKq11V1pI+RvFh1RSvCVzf32YVvuqh7AShcxQglC0FoqcuafVLCIjstYQg0iUBghN84ug6ng7I/btcdBd7gNvrP7RTc0WB/IL6Mov4tFpnPXzEZaKXOCFGrtFOUqkVbWni0Wq39+eKALux5vsvyIYXNRnxqSaJlaUOgWQQCIzTbATPcEDAEZkTAGGFGME2UIdA8AsYIzQ+hdcAQmBEBY4QZwTRRhkDzCBgjND+E1gFDYEYEjBFmBNNEGQLNI2CM0PwQWgcMgfkQ+B/f+kpjxUj72wAAAABJRU5ErkJggg==" width="347" height="73" class="img_ev3q"><br>
<!-- -->Containers removidos.</p></div>
<p>Cuidado com o comando acima, ele vai parar e remover todos os containers em execu√ß√£o no host, ent√£o certifique-se de que n√£o tem nenhum container importante rodando antes de executar esse comando. Caso queira remover apenas containers espec√≠ficos, utilize o <code>CONTAINER ID</code> ou o <code>NAMES</code> para referenciar o container.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CONTAINER ID ou NAMES</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Caso queira remover as imagens criadas, utilize o comando abaixo.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Remove todas as imagens</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> rmi </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">docker</span><span class="token variable" style="color:#36acaa"> images </span><span class="token variable parameter variable" style="color:#36acaa">-aq</span><span class="token variable" style="color:#36acaa">)</span><br></span></code></pre></div></div>
<p>Esse comando vai remover todas as imagens do host, ent√£o certifique-se de que n√£o tem nenhuma imagem importante antes de executar esse comando. Caso queira remover apenas imagens espec√≠ficas, utilize o <code>IMAGE ID</code> ou o <code>REPOSITORY:TAG</code> para referenciar a imagem.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-network">2.5 Network<a href="#25-network" class="hash-link" aria-label="Link direto para 2.5 Network" title="Link direto para 2.5 Network" translate="no">‚Äã</a></h3>
<p>Vamos ver agora como fazer a comunica√ß√£o entre containers utilizando redes do Docker. Mas antes, vamos ver os tipos de redes dispon√≠veis no Docker.</p>
<ul>
<li><strong>bridge</strong>: √â a rede padr√£o do Docker, onde os containers podem se comunicar entre si utilizando o nome do container como hostname. Essa rede √© isolada do host, ou seja, os containers n√£o podem acessar a rede do host diretamente.</li>
<li><strong>host</strong>: Nessa rede, o container compartilha a rede do host, ou seja, o container pode acessar a rede do host diretamente. Essa rede n√£o √© isolada, ent√£o os containers podem acessar a rede do host e vice-versa.</li>
<li><strong>none</strong>: Nessa rede, o container n√£o tem acesso √† rede, ou seja, o container n√£o pode acessar a rede do host e nem se comunicar com outros containers.</li>
</ul>
<p>Agora vamos criar dois containers que se comunicam entre si utilizando a rede bridge padr√£o do Docker.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Sube o container do banco de dados MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> banco_de_dados </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_ROOT_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">senha123 </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_DATABASE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">meu_banco </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_USER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">usuario </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">senha </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> mysql:5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Sube o container do phpMyAdmin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> meu_phpmyadmin </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PMA_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">banco_de_dados </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PMA_USER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">usuario </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PMA_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">senha phpmyadmin/phpmyadmin</span><br></span></code></pre></div></div>
<p>Ao rodar os comandos acima, dois containers s√£o criados: um container com o banco de dados MySQL e outro container com o phpMyAdmin. O container do phpMyAdmin se conecta ao container do banco de dados utilizando o nome do container (<code>banco_de_dados</code>) como hostname. Entretanto, eles n√£o est√£o na mesma rede, ent√£o precisamos criar uma rede personalizada para que eles possam se comunicar entre si.</p>
<p>Remova os containers criados acima, seguindo a dica da se√ß√£o <a href="#24---limpando">limpando</a>.</p>
<p>Agora vamos fazer com que os containers conversem entre si, vamos colocar eles na mesma rede.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Cria uma rede personalizada</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> network create minha_rede_personalizada</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Sobe o container do banco de dados MySQL na rede personalizada</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> banco_de_dados </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_ROOT_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">senha123 </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_DATABASE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">meu_banco </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_USER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">usuario </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">senha </span><span class="token parameter variable" style="color:#36acaa">--network</span><span class="token plain"> minha_rede_personalizada </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> mysql:5.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Sube o container do phpMyAdmin na rede personalizada</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> meu_phpmyadmin </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:80 </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PMA_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">banco_de_dados </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PMA_USER</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">usuario </span><span class="token parameter variable" style="color:#36acaa">--env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">PMA_PASSWORD</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">senha </span><span class="token parameter variable" style="color:#36acaa">--network</span><span class="token plain"> minha_rede_personalizada phpmyadmin/phpmyadmin</span><br></span></code></pre></div></div>
<p>O <code>phpMyAdmin</code> est√° rodando na porta <code>8080</code>, ent√£o repita os passos da se√ß√£o <a href="#22---executando-a-imagem-criada">2.2 - Executando a imagem criada</a> para acessar o <code>phpMyAdmin</code> no navegador ou acesse a URL <code>http://localhost:8080</code> caso esteja rodando o Docker localmente.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-2.5-cd896634d3cb290e64b578df526dd576.png" width="673" height="495" class="img_ev3q"><br>
<!-- -->phpMyAdmin conectado ao banco de dados MySQL.</p></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como criar uma rede personalizada. (Ex: <code>docker network create minha_rede_personalizada</code>)</li>
<li>Como conectar containers a uma rede personalizada. (Ex: <code>--network minha_rede_personalizada</code>)</li>
<li>Como fazer a comunica√ß√£o entre containers utilizando o nome do container como hostname. (Ex: <code>PMA_HOST=banco_de_dados</code>)</li>
<li>Como utilizar vari√°veis de ambiente para configurar containers. (Ex: <code>--env MYSQL_ROOT_PASSWORD=senha123</code>)</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pratica-3">Pratica 3<a href="#pratica-3" class="hash-link" aria-label="Link direto para Pratica 3" title="Link direto para Pratica 3" translate="no">‚Äã</a></h2>
<p>Vamos agora aprofundar na constru√ß√£o de nossas imagens customizadas.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" src="https://media.giphy.com/media/l0JMrPWRQkTeg3jjO/giphy.gif" alt="Build" class="img_ev3q"><br>
<!-- -->Let&#x27;s build!</p></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31---constru√ß√£o-normal">3.1 - Constru√ß√£o normal<a href="#31---constru√ß√£o-normal" class="hash-link" aria-label="Link direto para 3.1 - Constru√ß√£o normal" title="Link direto para 3.1 - Constru√ß√£o normal" translate="no">‚Äã</a></h3>
<p>Assim como no item <a href="#21---dockerfile">2.1 - Dockerfile</a>, vamos fazer a constru√ß√£o de uma imagem a partir de um Dockerfile.</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">dockerfile.spring</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">dockerfile.spring</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Define a imagem base</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM maven:3-openjdk-17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o diret√≥rio de trabalho</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Git clone (N√£o √© uma boa pr√°tica fazer isso em produ√ß√£o, mas assim evita de termos que baixar o c√≥digo na nossa m√°quina local)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/spring-projects/spring-petclinic.git </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Build da aplica√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN mvn clean package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Exp√µe a porta 8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copia o arquivo jar gerado para o diret√≥rio raiz e renomeia para app.jar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> target/*.jar app.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o comando de execu√ß√£o quando o container for iniciado</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;java&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;-jar&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;app.jar&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div></div></div></div>
<p>Crie o arquivo acima e rode o comando abaixo para construir a imagem.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> curso-docker:1 </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> dockerfile.spring </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Tamanho da imagem</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> images</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-3.1-1c00c52283af2f62f27d34bcd6cea527.png" width="948" height="404" class="img_ev3q"><br>
<!-- -->Resultado do comando <code>docker build</code>.</p></div>
<p>Podemos ver que a imagem foi construida e o tamanho final foi de 1.14GB. Vamos ver como podemos otimizar essa imagem na pr√≥xima se√ß√£o.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como construir uma imagem Docker a partir de um Dockerfile.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32---constru√ß√£o-otimizada">3.2 - Constru√ß√£o otimizada<a href="#32---constru√ß√£o-otimizada" class="hash-link" aria-label="Link direto para 3.2 - Constru√ß√£o otimizada" title="Link direto para 3.2 - Constru√ß√£o otimizada" translate="no">‚Äã</a></h3>
<p>Vamos otimizar a constru√ß√£o da imagem utilizando multi-stage builds. Com essa t√©cnica, podemos utilizar m√∫ltiplas etapas de constru√ß√£o no mesmo Dockerfile, assim podemos separar as etapas de build e runtime, reduzindo o tamanho final da imagem.</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">dockerfile.spring2</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">dockerfile.spring2</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Etapa de build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM maven:3-openjdk-17 AS build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o diret√≥rio de trabalho</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Git clone (N√£o √© uma boa pr√°tica fazer isso em produ√ß√£o, mas assim evita de termos que baixar o c√≥digo na nossa m√°quina local)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/spring-projects/spring-petclinic.git </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Build da aplica√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN mvn clean package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Etapa de runtime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM eclipse-temurin:17-jre-alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o diret√≥rio de trabalho</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copia o arquivo jar gerado na etapa de build para o diret√≥rio raiz e renomeia para app.jar</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY </span><span class="token parameter variable" style="color:#36acaa">--from</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">build /app/target/*.jar app.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Exp√µe a porta 8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EXPOSE </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o comando de execu√ß√£o quando o container for iniciado</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;java&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;-jar&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;app.jar&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div></div></div></div>
<p>Agora rode o comando abaixo para construir a imagem otimizada.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> curso-docker:2 </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> dockerfile.spring2 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Tamanho da imagem</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> images</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-3.2-61bad95e74e25b49fbf4ff5a87449060.png" width="951" height="460" class="img_ev3q"><br>
<!-- -->Resultado do comando <code>docker build</code>.</p></div>
<p>Podemos observar na imagem que o build normal teve um tamanho final de 1.14GB, enquanto o build otimizado teve um tamanho final de 250MB. Isso mostra como a t√©cnica de multi-stage builds pode ajudar a reduzir o tamanho final da imagem, separando as etapas de build e runtime.</p>
<p>Elas continuam funcionando da mesma forma, mas a imagem otimizada √© mais leve e eficiente, o que ajuda at√© com vulnerabilidades, j√° que h√° menos componentes na imagem final.</p>
<p>Caso queira validar o funcionamento das imagens, rode o comando abaixo e lembre de abrir as portas 8080 e 8081 no Play with Docker.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Rodando a imagem normal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain">:8080 curso-docker:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Rodando a imagem otimizada</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8081</span><span class="token plain">:8080 curso-docker:2</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como utilizar multi-stage builds para otimizar a constru√ß√£o de imagens Docker.</li>
<li>Como separar as etapas de build e runtime em um Dockerfile.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33---entrypoint-vs-cmd">3.3 - Entrypoint vs CMD<a href="#33---entrypoint-vs-cmd" class="hash-link" aria-label="Link direto para 3.3 - Entrypoint vs CMD" title="Link direto para 3.3 - Entrypoint vs CMD" translate="no">‚Äã</a></h3>
<p>Vamos entender a diferen√ßa entre os comandos <code>ENTRYPOINT</code> e <code>CMD</code> no Dockerfile.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Exemplo de Dockerfile com ENTRYPOINT e CMD</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM alpine:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;echo&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;Hello, World!&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>No exemplo acima, o comando <code>ENTRYPOINT</code> define o comando principal que ser√° executado quando o container for iniciado, enquanto o comando <code>CMD</code> define os argumentos padr√£o para o comando <code>ENTRYPOINT</code>.</p>
<p>Se voc√™ construir a imagem acima e executar o container sem passar nenhum argumento, o comando <code>echo</code> ser√° executado com o argumento <code>Hello, World!</code>, resultando na sa√≠da <code>Hello, World!</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> exemplo-entrypoint-cmd </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> exemplo-entrypoint-cmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Sa√≠da: Hello, World!</span><br></span></code></pre></div></div>
<p>Se voc√™ executar o container passando um argumento, o comando <code>echo</code> ser√° executado com o argumento passado, substituindo o argumento padr√£o definido pelo <code>CMD</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> exemplo-entrypoint-cmd </span><span class="token string" style="color:#e3116c">&quot;Ol√°, Docker!&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Sa√≠da: Ol√°, Docker!</span><br></span></code></pre></div></div>
<p>Podemos ver que o comando <code>ENTRYPOINT</code> define o comando principal do container, enquanto o comando <code>CMD</code> define os argumentos padr√£o para esse comando. Se nenhum argumento for passado ao executar o container, o argumento padr√£o ser√° utilizado. Caso contr√°rio, o argumento passado substituir√° o argumento padr√£o.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Diferen√ßa entre <code>ENTRYPOINT</code> e <code>CMD</code> no Dockerfile.</li>
<li>Como utilizar <code>ENTRYPOINT</code> para definir o comando principal do container.</li>
<li>Como utilizar <code>CMD</code> para definir argumentos padr√£o para o comando principal.</li>
<li>Como os argumentos passados ao executar o container substituem os argumentos padr√£o definidos pelo <code>CMD</code>.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="34---entrypoint-script">3.4 - Entrypoint script<a href="#34---entrypoint-script" class="hash-link" aria-label="Link direto para 3.4 - Entrypoint script" title="Link direto para 3.4 - Entrypoint script" translate="no">‚Äã</a></h3>
<p>Vamos ver como utilizar um script de entrypoint para configurar o ambiente do container antes de iniciar a aplica√ß√£o.</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">dockerfile.entrypoint</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">entrypoint.sh</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">dockerfile.entrypoint</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Define a imagem base</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM alpine:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Diret√≥rio de trabalho</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Instala dos2unix para converter finais de linha</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apk </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> --no-cache dos2unix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Copia o script de entrypoint para o container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY entrypoint.sh /app/entrypoint.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Converte o script para formato Unix e d√° permiss√£o de execu√ß√£o</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN dos2unix /app/entrypoint.sh </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x /app/entrypoint.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Define o entrypoint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/app/entrypoint.sh&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">entrypoint.sh</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Iniciando o container...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Aqui voc√™ pode adicionar comandos para configurar o ambiente do container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sleep</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Vers√£o do Alpine:&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /etc/alpine-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Container iniciado!&quot;</span><br></span></code></pre></div></div></div></div></div>
<p>Agora rode o comando abaixo para construir a imagem com o script de entrypoint.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build </span><span class="token parameter variable" style="color:#36acaa">-t</span><span class="token plain"> exemplo-entrypoint </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> dockerfile.entrypoint </span><span class="token builtin class-name">.</span><br></span></code></pre></div></div>
<p>e depois execute o container.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> exemplo-entrypoint</span><br></span></code></pre></div></div>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" alt="Imagem" src="/assets/images/pratica-3.4-809fedeb5f7a4834b3a4c333d5b064c6.png" width="944" height="466" class="img_ev3q"><br>
<!-- -->Resultado do comando <code>docker run</code>.</p></div>
<p>Podemos ver que o script de entrypoint √© executado quando o container √© iniciado, exibindo mensagens no terminal. Voc√™ pode adicionar comandos adicionais no script para configurar o ambiente do container antes de iniciar a aplica√ß√£o principal ou at√© validar pr√©-requisitos.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como utilizar um script de entrypoint em um Dockerfile.</li>
<li>Como configurar o ambiente do container antes de iniciar a aplica√ß√£o principal.</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="docker-compose-2">Docker Compose<a href="#docker-compose-2" class="hash-link" aria-label="Link direto para Docker Compose" title="Link direto para Docker Compose" translate="no">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>üöß Em constru√ß√£o üöß</p></div></div>
<p>Agora que voc√™ j√° conhece o b√°sico do Docker, vamos ver como utilizar o Docker Compose para orquestrar m√∫ltiplos containers.</p>
<p>Voc√™ vai ver que o Docker Compose facilita muito a vida na hora de gerenciar m√∫ltiplos containers, redes e volumes.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>Existem duas vers√µes do Docker Compose: a vers√£o cl√°ssica, que √© um bin√°rio separado do Docker, e a vers√£o integrada ao Docker CLI (a partir da vers√£o 20.10 do Docker). Nesse tutorial, vamos utilizar a vers√£o integrada ao Docker CLI, que √© a mais recente e recomendada pela comunidade.</p><p>Uma das principais diferen√ßas entre as duas vers√µes √© a forma de executar os comandos. Na vers√£o cl√°ssica, os comandos s√£o executados com o comando <code>docker-compose</code>, enquanto na vers√£o integrada ao Docker CLI, os comandos s√£o executados com o comando <code>docker compose</code> (sem o h√≠fen).</p></div></div>
<p>Vamos seguir utilizando a vers√£o integrada <code>docker compose</code> para os exemplos a seguir.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="o-que-√©-o-docker-compose">O que √© o Docker Compose?<a href="#o-que-√©-o-docker-compose" class="hash-link" aria-label="Link direto para O que √© o Docker Compose?" title="Link direto para O que √© o Docker Compose?" translate="no">‚Äã</a></h3>
<p>O Docker Compose √© uma ferramenta que permite definir e gerenciar m√∫ltiplos containers Docker utilizando um arquivo de configura√ß√£o em formato YAML. Com o Docker Compose, voc√™ pode definir os servi√ßos, redes e volumes necess√°rios para a sua aplica√ß√£o em um √∫nico arquivo, facilitando a cria√ß√£o, execu√ß√£o e gerenciamento dos containers.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o</div><div class="admonitionContent_BuS1"><p>Voc√™ pode criar arquivos <code>.yaml</code> ou <code>.yml</code> para definir a configura√ß√£o do Docker Compose. Ambos os formatos s√£o v√°lidos e funcionam da mesma forma.</p><p>No passado, alguns sistemas operacionais n√£o sabiam lidar com formatos com mais de 3 letras, ent√£o o formato <code>.yml</code> era mais utilizado. Hoje em dia, ambos os formatos s√£o amplamente suportados, ent√£o voc√™ pode escolher o que preferir.</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Observa√ß√£o 2</div><div class="admonitionContent_BuS1"><p>Pode ser que veja em algum lugar aquivos <code>docker-compose.yaml</code>, esse tipo de nome √© a forma antiga de nomear arquivos do Docker Compose, mas hoje em dia o mais comum √© utilizar <code>compose.yaml</code> que √© o vamos utilizar nesse tutorial.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="principais-comandos-1">Principais comandos<a href="#principais-comandos-1" class="hash-link" aria-label="Link direto para Principais comandos" title="Link direto para Principais comandos" translate="no">‚Äã</a></h3>
<ul>
<li><code>docker compose up</code>: Cria e inicia os containers definidos no arquivo <code>compose.yml</code>.</li>
<li><code>docker compose down</code>: Para e remove os containers, redes e volumes definidos no arquivo <code>compose.yml</code>.</li>
<li><code>docker compose logs</code>: Exibe os logs dos containers definidos no arquivo <code>compose.yml</code>.</li>
<li><code>docker compose build</code>: Constr√≥i as imagens definidas no arquivo <code>compose.yml</code>.</li>
<li><code>docker compose stop</code>: Para os containers em execu√ß√£o definidos no arquivo <code>compose.yml</code>.</li>
<li><code>docker compose start</code>: Inicia os containers parados definidos no arquivo <code>compose.yml</code>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pratica-4---docker-compose">Pratica 4 - Docker Compose<a href="#pratica-4---docker-compose" class="hash-link" aria-label="Link direto para Pratica 4 - Docker Compose" title="Link direto para Pratica 4 - Docker Compose" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41---criando-o-arquivo-composeyaml">4.1 - Criando o arquivo compose.yaml<a href="#41---criando-o-arquivo-composeyaml" class="hash-link" aria-label="Link direto para 4.1 - Criando o arquivo compose.yaml" title="Link direto para 4.1 - Criando o arquivo compose.yaml" translate="no">‚Äã</a></h3>
<p>Vamos subir alguns sistemas operacionais diferentes utilizando o Docker Compose. Crie um arquivo chamado <code>compose.yaml</code> com o seguinte conte√∫do:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">compose.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ubuntu-22-04</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">22.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cat /etc/lsb</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ubuntu-20-04</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">20.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cat /etc/lsb</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ubuntu-18-04</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">18.04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cat /etc/lsb</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">debian-11</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> debian</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cat /etc/debian_version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">debian-10</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> debian</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">alpine-3.18</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alpine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3.18</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cat /etc/alpine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">alpine-3.17</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alpine</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3.17</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cat /etc/alpine</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">release</span><br></span></code></pre></div></div>
<p>Vamos lembrar que um arquivo <code>yaml</code> √© sens√≠vel a espa√ßos, ent√£o tome cuidado para n√£o errar a indenta√ß√£o.</p>
<p>Podemos notar que no primeiro n√≠vel temos a chave <code>services</code>, que define os servi√ßos (containers) que ser√£o criados. Cada servi√ßo √© definido por um nome (ex: <code>ubuntu-22-04</code>, <code>debian-11</code>, etc) e possui algumas propriedades, como a imagem utilizada (<code>image</code>) e o comando a ser executado (<code>command</code>).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como criar um arquivo <code>compose.yaml</code>.</li>
<li>Estrutura b√°sica de um arquivo <code>compose.yaml</code>.</li>
<li>Defini√ß√£o de servi√ßos, imagens e comandos.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="42---subindo-os-containers">4.2 - Subindo os containers<a href="#42---subindo-os-containers" class="hash-link" aria-label="Link direto para 4.2 - Subindo os containers" title="Link direto para 4.2 - Subindo os containers" translate="no">‚Äã</a></h3>
<p>Agora que o arquivo <code>compose.yaml</code> foi criado, vamos subir os containers utilizando o comando <code>docker compose up</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> compose up</span><br></span></code></pre></div></div>
<p>Ao rodar o comando acima, o Docker Compose vai ler o arquivo <code>compose.yaml</code> e criar os containers definidos nele. Como cada container tem um comando diferente, cada um vai executar o comando definido e depois finalizar.</p>
<p>Caso o comando n√£o seja informado, o container vai iniciar e ficar em execu√ß√£o, e vai prender o terminal, para liberar o terminal, voc√™ pode utilizar o atalho <code>Ctrl + C</code> para parar todos os containers ou subir os containers em segundo plano utilizando o par√¢metro <code>-d</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> compose up </span><span class="token parameter variable" style="color:#36acaa">-d</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como subir os containers definidos no arquivo <code>compose.yaml</code>. (Ex: <code>docker compose up</code>)</li>
<li>Como subir os containers em segundo plano. (Ex: <code>docker compose up -d</code>)</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="43---exemplo-aplica√ß√£o-e-banco-de-dados">4.3 - Exemplo aplica√ß√£o e banco de dados<a href="#43---exemplo-aplica√ß√£o-e-banco-de-dados" class="hash-link" aria-label="Link direto para 4.3 - Exemplo aplica√ß√£o e banco de dados" title="Link direto para 4.3 - Exemplo aplica√ß√£o e banco de dados" translate="no">‚Äã</a></h3>
<p>Assim como vimos no item <a href="#25---network">2.5 - Network</a>, vamos ver um exemplo de aplica√ß√£o web com banco de dados utilizando o Docker Compose.</p>
<p>Crie um arquivo chamado <code>compose2.yaml</code> com o seguinte conte√∫do:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">compose2.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> senha123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> meu_banco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> usuario</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> senha</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">phpmyadmin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phpmyadmin/phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_HOST</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> usuario</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> senha</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8080:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span></code></pre></div></div>
<p>Agora rode o comando abaixo para subir os containers definidos no arquivo <code>compose2.yaml</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> compose </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> compose2.yaml up phpmyadmin</span><br></span></code></pre></div></div>
<p>Se olharmos o log da execu√ß√£o, podemos ver que temos um <code>depends on</code> no servi√ßo <code>phpmyadmin</code>, isso indica que o servi√ßo <code>phpmyadmin</code> depende do servi√ßo <code>mysql</code>, ent√£o o Docker Compose vai iniciar o servi√ßo <code>mysql</code> antes de iniciar o servi√ßo <code>phpmyadmin</code>, mesmo que n√£o tenhamos especificado para subir o servi√ßo <code>mysql</code> no comando acima.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como definir m√∫ltiplos servi√ßos em um arquivo <code>compose.yaml</code>.</li>
<li>Como utilizar vari√°veis de ambiente para configurar servi√ßos.</li>
<li>Como mapear volumes para persist√™ncia de dados.</li>
<li>Como mapear portas para acessar servi√ßos externamente.</li>
<li>Como definir depend√™ncias entre servi√ßos utilizando <code>depends_on</code>.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="44---vari√°veis-de-ambiente">4.4 - Vari√°veis de ambiente<a href="#44---vari√°veis-de-ambiente" class="hash-link" aria-label="Link direto para 4.4 - Vari√°veis de ambiente" title="Link direto para 4.4 - Vari√°veis de ambiente" translate="no">‚Äã</a></h3>
<p>Vamos ver como utilizar vari√°veis de ambiente em um arquivo <code>compose.yaml</code>. Crie um arquivo chamado <code>.env</code> com o seguinte conte√∫do:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">.env</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">compose3.yaml</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-env codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">.env</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-env codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_ROOT_PASSWORD=senha123</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_DATABASE=meu_banco</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_USER=usuario</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MYSQL_PASSWORD=senha</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">compose3.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_ROOT_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_DATABASE</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">phpmyadmin</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> phpmyadmin/phpmyadmin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_HOST</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_USER</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_USER</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">PMA_PASSWORD</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">MYSQL_PASSWORD</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8080:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span></code></pre></div></div></div></div></div>
<p>√â importante notar que o arquivo <code>.env</code> deve estar no mesmo diret√≥rio do arquivo <code>compose3.yaml</code> para que o Docker Compose possa carregar as vari√°veis de ambiente corretamente.</p>
<p>Agora rode o comando abaixo para subir os containers definidos no arquivo <code>compose3.yaml</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> compose </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> compose3.yaml up</span><br></span></code></pre></div></div>
<p>Caso o <code>.env</code> n√£o esteja no mesmo diret√≥rio do <code>compose3.yaml</code>, voc√™ pode especificar o caminho do arquivo <code>.env</code> utilizando a op√ß√£o <code>--env-file</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> compose --env-file /caminho/para/.env </span><span class="token parameter variable" style="color:#36acaa">-f</span><span class="token plain"> compose3.yaml up</span><br></span></code></pre></div></div>
<p>O arquivo acima funciona exatamente como no item <a href="#43---exemplo-aplica%C3%A7%C3%A3o-e-banco-de-dados">4.3 - Exemplo aplica√ß√£o e banco de dados</a>, mas agora as vari√°veis de ambiente est√£o sendo carregadas do arquivo <code>.env</code>, facilitando a configura√ß√£o dos servi√ßos e a manuten√ß√£o do arquivo <code>compose3.yaml</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como utilizar vari√°veis de ambiente em um arquivo <code>compose.yaml</code>.</li>
<li>Como criar um arquivo <code>.env</code> para armazenar vari√°veis de ambiente.</li>
<li>Como carregar vari√°veis de ambiente do arquivo <code>.env</code> no Docker Compose.</li>
</ul></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="45---campos-√∫teis-do-docker-compose">4.5 - Campos √∫teis do Docker Compose<a href="#45---campos-√∫teis-do-docker-compose" class="hash-link" aria-label="Link direto para 4.5 - Campos √∫teis do Docker Compose" title="Link direto para 4.5 - Campos √∫teis do Docker Compose" translate="no">‚Äã</a></h3>
<p>Vamos ver alguns campos √∫teis que podem ser utilizados em um arquivo <code>compose.yaml</code>.</p>
<ul>
<li><code>build</code>: Define o contexto de build para criar uma imagem personalizada a partir de um Dockerfile.</li>
<li><code>ports</code>: Mapeia portas do container para o host.</li>
<li><code>volumes</code>: Mapeia volumes do host para o container.</li>
<li><code>environment</code>: Define vari√°veis de ambiente para o container.</li>
<li><code>depends_on</code>: Define depend√™ncias entre servi√ßos.</li>
<li><code>networks</code>: Define redes personalizadas para os servi√ßos.</li>
<li><code>restart</code>: Define a pol√≠tica de rein√≠cio do container (ex: <code>no</code>, <code>always</code>, <code>on-failure</code>, <code>unless-stopped</code>).</li>
<li><code>command</code>: Define o comando a ser executado no container.</li>
<li><code>healthcheck</code>: Define um comando para verificar a sa√∫de do container.</li>
<li><code>labels</code>: Adiciona metadados ao container na forma de pares chave-valor.</li>
<li><code>configs</code> e <code>secrets</code>: Gerencia configura√ß√µes e segredos de forma segura para os containers.</li>
<li><code>profiles</code>: Permite definir perfis para ativar ou desativar servi√ßos com base no perfil selecionado.</li>
<li><code>deploy</code>: Configura√ß√µes relacionadas √† implanta√ß√£o, como r√©plicas, recursos e pol√≠ticas de atualiza√ß√£o (mais usado em ambientes de orquestra√ß√£o como Docker Swarm).</li>
</ul>
<p>Vamos ver trechos de exemplos para cada um dos campos acima.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_OeMC">compose4.yaml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">meu_servico</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">context</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./meu_servico</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dockerfile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8080:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./dados</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/dados</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> VARIAVEL_EXEMPLO=valor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> outro_servico</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> minha_rede</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;./start.sh&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">test</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;CMD&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost/health&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">retries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">com.exemplo.ambiente</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> desenvolvimento</span><br></span></code></pre></div></div>
<p>Cada item tem seu uso espec√≠fico, e voc√™ pode combinar v√°rios deles para configurar seus servi√ßos da melhor forma poss√≠vel, ent√£o use de acordo com a necessidade do seu projeto.</p>
<p>A documenta√ß√£o oficial do Docker Compose tem uma lista completa dos campos dispon√≠veis e suas descri√ß√µes: <a href="https://docs.docker.com/compose/compose-file/" target="_blank" rel="noopener noreferrer">Docker Compose file reference</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="46---limpando">4.6 - Limpando<a href="#46---limpando" class="hash-link" aria-label="Link direto para 4.6 - Limpando" title="Link direto para 4.6 - Limpando" translate="no">‚Äã</a></h3>
<p>Vamos fazer uma pausa para limpar os containers, redes e volumes criados at√© agora com o Docker Compose.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> down </span><span class="token parameter variable" style="color:#36acaa">--volumes</span><span class="token plain"> --remove-orphans</span><br></span></code></pre></div></div>
<p>::warning Observa√ß√£o</p>
<p>O par√¢metro <code>--volumes</code> √© utilizado para remover os volumes associados aos containers, e o par√¢metro <code>--remove-orphans</code> √© utilizado para remover containers que n√£o est√£o mais definidos no arquivo <code>compose.yaml</code>.</p>
<p>:::</p>
<p>Com esse comando, todos os containers, redes e volumes criados pelo Docker Compose ser√£o removidos, ent√£o certifique-se de que n√£o tem nenhum container importante rodando antes de executar esse comando.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>O que foi visto:</div><div class="admonitionContent_BuS1"><ul>
<li>Como limpar containers, redes e volumes criados pelo Docker Compose. (Ex: <code>docker-compose down --volumes --remove-orphans</code>)</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclus√£o-1">Conclus√£o<a href="#conclus√£o-1" class="hash-link" aria-label="Link direto para Conclus√£o" title="Link direto para Conclus√£o" translate="no">‚Äã</a></h2>
<p>Parab√©ns por chegar at√© aqui! Voc√™ j√° aprendeu o b√°sico do Docker e do Docker Compose, e viu como criar imagens, containers, volumes e como utilizar o Docker no dia a dia.</p>
<p>Espero que esse tutorial tenha te ajudado a entender melhor como Docker funciona e que comece a utilizar o Docker no seu dia a dia. Lembre-se que o Docker √© uma ferramenta poderosa e vers√°til, e que existem muitos outros recursos e funcionalidades que voc√™ pode explorar. Continue praticando e explorando o Docker, e voc√™ vai ver como ele pode facilitar sua vida como desenvolvedor.</p>
<div style="text-align:center;font-size:15px;color:#999"><p><img decoding="async" loading="lazy" src="https://media.giphy.com/media/5JIVuCsk5v6gM/giphy.gif" alt="Container" class="img_ev3q"><br>
<!-- -->Parab√©ns por chegar at√© aqui! üéâ</p></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/lucasbaccan/code/tree/master/docs/tutorial/docker/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta p√°gina</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">√öltima atualiza√ß√£o<!-- --> em <b><time datetime="2025-12-04T01:55:59.000Z" itemprop="dateModified">4 de dez. de 2025</time></b> por <b>Lucas Elias Baccan</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="P√°ginas de documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/tutorial/"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Tutorial</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tutorial/git/guia_rapido"><div class="pagination-nav__sublabel">Pr√≥xima</div><div class="pagination-nav__label">Git - Guia r√°pido</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#o-que-√©-docker" class="table-of-contents__link toc-highlight">O que √© Docker?</a></li><li><a href="#hist√≥ria-e-evolu√ß√£o-do-docker" class="table-of-contents__link toc-highlight">Hist√≥ria e evolu√ß√£o do Docker</a></li><li><a href="#vantagens-do-uso-de-containers" class="table-of-contents__link toc-highlight">Vantagens do uso de containers</a></li><li><a href="#docker-vs-m√°quina-virtual" class="table-of-contents__link toc-highlight">Docker vs M√°quina Virtual</a><ul><li><a href="#m√°quina-virtual" class="table-of-contents__link toc-highlight">M√°quina Virtual</a></li><li><a href="#docker" class="table-of-contents__link toc-highlight">Docker</a></li></ul></li><li><a href="#conceitos-b√°sicos" class="table-of-contents__link toc-highlight">Conceitos b√°sicos</a><ul><li><a href="#image-imagem" class="table-of-contents__link toc-highlight">Image (Imagem)</a></li><li><a href="#container" class="table-of-contents__link toc-highlight">Container</a></li><li><a href="#tag" class="table-of-contents__link toc-highlight">Tag</a></li><li><a href="#docker-hub--docker-registry" class="table-of-contents__link toc-highlight">Docker Hub / Docker Registry</a></li><li><a href="#dockerfile" class="table-of-contents__link toc-highlight">Dockerfile</a></li><li><a href="#layers-camadas" class="table-of-contents__link toc-highlight">Layers (Camadas)</a></li><li><a href="#volume" class="table-of-contents__link toc-highlight">Volume</a></li><li><a href="#docker-compose" class="table-of-contents__link toc-highlight">Docker Compose</a></li><li><a href="#conclus√£o" class="table-of-contents__link toc-highlight">Conclus√£o</a></li></ul></li><li><a href="#instala√ß√£o" class="table-of-contents__link toc-highlight">Instala√ß√£o</a></li><li><a href="#principais-comandos" class="table-of-contents__link toc-highlight">Principais comandos</a><ul><li><a href="#docker-1" class="table-of-contents__link toc-highlight">Docker</a></li><li><a href="#docker-compose-1" class="table-of-contents__link toc-highlight">Docker Compose</a></li></ul></li><li><a href="#pr√°tica-1" class="table-of-contents__link toc-highlight">Pr√°tica 1</a><ul><li><a href="#play-with-docker" class="table-of-contents__link toc-highlight">Play with Docker</a><ul><li><a href="#dica-1---comandos-do-terminal-web" class="table-of-contents__link toc-highlight">Dica 1 - Comandos do terminal web</a></li><li><a href="#dica-2---manipular-arquivos" class="table-of-contents__link toc-highlight">Dica 2 - Manipular arquivos</a></li><li><a href="#dica-3---manipular-arquivos---comandos-linux" class="table-of-contents__link toc-highlight">Dica 3 - Manipular arquivos - Comandos linux</a></li></ul></li><li><a href="#11---hello-world" class="table-of-contents__link toc-highlight">1.1 - Hello World</a></li><li><a href="#12---ubuntu" class="table-of-contents__link toc-highlight">1.2 - Ubuntu</a></li><li><a href="#13---docker-ps" class="table-of-contents__link toc-highlight">1.3 - <code>docker ps</code></a></li><li><a href="#14---docker-exec" class="table-of-contents__link toc-highlight">1.4 - <code>docker exec</code></a></li><li><a href="#15---gerenciando-estados" class="table-of-contents__link toc-highlight">1.5 - Gerenciando estados</a></li><li><a href="#16---acessando-o-container" class="table-of-contents__link toc-highlight">1.6 - Acessando o container</a></li></ul></li><li><a href="#pr√°tica-2" class="table-of-contents__link toc-highlight">Pr√°tica 2</a><ul><li><a href="#21---dockerfile" class="table-of-contents__link toc-highlight">2.1 - Dockerfile</a></li><li><a href="#22---executando-a-imagem-criada" class="table-of-contents__link toc-highlight">2.2 - Executando a imagem criada</a></li><li><a href="#23---mapeamento-de-volume" class="table-of-contents__link toc-highlight">2.3 - Mapeamento de volume</a></li><li><a href="#24---limpando" class="table-of-contents__link toc-highlight">2.4 - Limpando</a></li><li><a href="#25-network" class="table-of-contents__link toc-highlight">2.5 Network</a></li></ul></li><li><a href="#pratica-3" class="table-of-contents__link toc-highlight">Pratica 3</a><ul><li><a href="#31---constru√ß√£o-normal" class="table-of-contents__link toc-highlight">3.1 - Constru√ß√£o normal</a></li><li><a href="#32---constru√ß√£o-otimizada" class="table-of-contents__link toc-highlight">3.2 - Constru√ß√£o otimizada</a></li><li><a href="#33---entrypoint-vs-cmd" class="table-of-contents__link toc-highlight">3.3 - Entrypoint vs CMD</a></li><li><a href="#34---entrypoint-script" class="table-of-contents__link toc-highlight">3.4 - Entrypoint script</a></li></ul></li><li><a href="#docker-compose-2" class="table-of-contents__link toc-highlight">Docker Compose</a><ul><li><a href="#o-que-√©-o-docker-compose" class="table-of-contents__link toc-highlight">O que √© o Docker Compose?</a></li><li><a href="#principais-comandos-1" class="table-of-contents__link toc-highlight">Principais comandos</a></li></ul></li><li><a href="#pratica-4---docker-compose" class="table-of-contents__link toc-highlight">Pratica 4 - Docker Compose</a><ul><li><a href="#41---criando-o-arquivo-composeyaml" class="table-of-contents__link toc-highlight">4.1 - Criando o arquivo compose.yaml</a></li><li><a href="#42---subindo-os-containers" class="table-of-contents__link toc-highlight">4.2 - Subindo os containers</a></li><li><a href="#43---exemplo-aplica√ß√£o-e-banco-de-dados" class="table-of-contents__link toc-highlight">4.3 - Exemplo aplica√ß√£o e banco de dados</a></li><li><a href="#44---vari√°veis-de-ambiente" class="table-of-contents__link toc-highlight">4.4 - Vari√°veis de ambiente</a></li><li><a href="#45---campos-√∫teis-do-docker-compose" class="table-of-contents__link toc-highlight">4.5 - Campos √∫teis do Docker Compose</a></li><li><a href="#46---limpando" class="table-of-contents__link toc-highlight">4.6 - Limpando</a></li></ul></li><li><a href="#conclus√£o-1" class="table-of-contents__link toc-highlight">Conclus√£o</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Built with Docusaurus and ‚ù§.</div></div></div></footer></div>
</body>
</html>